{"componentChunkName":"component---src-templates-blog-post-js","path":"/docs/blog/2018-06-07-build-a-gatsby-blog-using-the-cosmic-js-source-plugin/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"ace46fea-9215-5e01-87f8-04d63333608d","excerpt":"This article originally appears on the Cosmic website. In this tutorial, I’m going to show you how to create a simple but blazing fast blog using React, Gatsby…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/a2510/gatsby-cosmic.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAP/2gAMAwEAAhADEAAAAdKNG0NYUV//xAAbEAACAgMBAAAAAAAAAAAAAAAAAQIDERIhE//aAAgBAQABBQJs4T42z3wW27y//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAgMAAAAAAAAAAAAAAAAAABEQMkH/2gAIAQEABj8CNmo0j//EAB0QAQABAwUAAAAAAAAAAAAAAAEAETFxECFBUdH/2gAIAQEAAT8hPuIuFhiKIJl0tv3KNZFLz//aAAwDAQACAAMAAAAQdz//xAAXEQEAAwAAAAAAAAAAAAAAAAABEBFB/9oACAEDAQE/EG3Y/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQARIUH/2gAIAQIBAT8Qp4QGtn//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEEEx0fD/2gAIAQEAAT8QukV6worHsDPBAbKPGkCGAfJgCaGNu33n/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cosmic Gatsby\"\n        title=\"Cosmic Gatsby\"\n        src=\"/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/1c72d/gatsby-cosmic.jpg\"\n        srcset=\"/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/a80bd/gatsby-cosmic.jpg 148w,\n/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/1c91a/gatsby-cosmic.jpg 295w,\n/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/1c72d/gatsby-cosmic.jpg 590w,\n/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/a8a14/gatsby-cosmic.jpg 885w,\n/gatsby-bloga-2/static/ece4724b6d49cc470963bee4a18cf2bb/a2510/gatsby-cosmic.jpg 1000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p><em>This article originally appears on <a href=\"https://cosmicjs.com/articles/build-a-gatsby-blog-using-the-cosmic-js-source-plugin-jhzwvr45\">the Cosmic website</a></em>.</p>\n</blockquote>\n<p>In this tutorial, I’m going to show you how to create a simple but blazing fast blog using React, Gatsby, and <a href=\"https://cosmicjs.com\">Cosmic</a>.</p>\n<h2>TL;DR</h2>\n<p><a href=\"https://github.com/cosmicjs/gatsby-blog-cosmicjs\">Download the GitHub repo.</a></p>\n<p><a href=\"https://cosmicjs.com/apps/gatsby-blog\">Check out the demo.</a></p>\n<p><a href=\"https://github.com/cosmicjs/gatsby-source-cosmicjs\">Check out the Cosmic Source Plugin for Gatsby.</a></p>\n<h2>Prerequisites</h2>\n<p>This tutorial requires Node.js and npm. Make sure you already have them installed.</p>\n<h2>Blog Development</h2>\n<p>In order to start working on the blog, we first have to set up the environment.</p>\n<h3>Install Gatsby and Set Up Your Site</h3>\n<p>First, install the Gatsby CLI:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --global gatsby-cli</code></pre></div>\n<p>Create a new site based on the Gatsby Cosmic starter:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">gatsby new gatsby-blog-cosmicjs</code></pre></div>\n<p>Enter in your project’s folder:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> gatsby-blog-cosmicjs</code></pre></div>\n<p>Start the server:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> run develop</code></pre></div>\n<p>At this point, you can access your Gatsby website by visiting <code class=\"language-text\">http://localhost:8000</code>.</p>\n<h2>Install the Cosmic Source Plugin</h2>\n<p>In a static website, data can be consumed from multiple different sources, for example Markdown files, HTML files, and/or an eternal API (WordPress, Cosmic, etc).</p>\n<p>To make consuming data simpler, Gatsby implements a data layer powered by GraphQL. Very exciting stuff!</p>\n<p>To connect this data layer with different data providers, you need to integrate a source plugin. Fortunately, there are many source plugins available for common data sources, and <a href=\"/gatsby-bloga-2/docs/creating-a-source-plugin/\">an API available to create your own</a> if necessary.</p>\n<p>In our case, we are using <a href=\"https://cosmicjs.com\">Cosmic</a>. We need a source plugin to connect data from Cosmic to our Gatsby site. Good news: there’s already a <a href=\"https://github.com/cosmicjs/gatsby-source-cosmicjs\">source plugin for Cosmic</a>!</p>\n<p>Install the source plugin with the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save gatsby-source-cosmicjs</code></pre></div>\n<p>We’re going to use a couple other plugins later, so let’s install them here:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save gatsby-plugin-offline gatsby-source-filesystem</code></pre></div>\n<p>These plugins need some configuration, so let’s replace the content of <code class=\"language-text\">gatsby-config.js</code> with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-offline</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-react-helmet</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/pages</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"pages\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby-source-cosmicjs\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        bucketSlug<span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby-blog-cosmic-js\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Your Cosmic bucket slug</span>\n        objectTypes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"posts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"settings\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// List of the object types you want to be able to request from Gatsby.</span>\n        apiAccess<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          read_key<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>A couple of notes on this config:</h3>\n<ol>\n<li>Notice <code class=\"language-text\">bucketSlug</code> is set to <code class=\"language-text\">gatsby-blog-cosmic-js</code>. This is a demo Bucket that includes pre-populated content, so when you <a href=\"https://github.com/cosmicjs/gatsby-blog-cosmicjs\">download the GitHub repo</a> and start the app, it will display demo content right out of the box. You can also import this demo content into your own Cosmic Bucket by going to <code class=\"language-text\">Your Cosmic Bucket Dashboard &gt; Settings &gt; Apps</code>, then find and install the Gatsby Blog.</li>\n<li>The API read key is optional and can be set after you login to Cosmic at:\n<code class=\"language-text\">Your Cosmic Bucket Dashboard &gt; Settings &gt; Basic Settings</code></li>\n</ol>\n<p>Now restart the server to apply the updates.</p>\n<h2>Posts List &#x26; Settings</h2>\n<p>First, we want to display the list of posts on the homepage. To do so, add the following content to <code class=\"language-text\">src/pages/index.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">get</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"lodash/get\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Helmet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-helmet\"</span>\n\n<span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/bio\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rhythm <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../utils/typography\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BlogIndex</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> siteTitle <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"props.data.cosmicjsSettings.metadata.site_title\"</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"props.data.allCosmicjsPosts.edges\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"props.data.cosmicjsSettings.metadata\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Helmet title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Bio settings<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> node<span class=\"token punctuation\">.</span>slug\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>h3\n                style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n                  marginBottom<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>Link style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> boxShadow<span class=\"token operator\">:</span> <span class=\"token string\">\"none\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>node<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                  <span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>small<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>created<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>small<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>p\n                dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span>description <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BlogIndex\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query IndexQuery {\n    allCosmicjsPosts(sort: { fields: [created], order: DESC }, limit: 1000) {\n      edges {\n        node {\n          metadata {\n            description\n          }\n          slug\n          title\n          created(formatString: \"DD MMMM, YYYY\")\n        }\n      }\n    }\n    cosmicjsSettings(slug: { eq: \"general\" }) {\n      metadata {\n        site_title\n        author_name\n        author_bio\n        author_avatar {\n          imgix_url\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<h3>Explanation:</h3>\n<p>At the end of <code class=\"language-text\">index.js</code> file, we exported <code class=\"language-text\">pageQuery</code>. These are GraphQL queries which are used to fetch important information about settings and list of posts.</p>\n<p>Then, we pass the <code class=\"language-text\">{ data }</code> destructured object as parameter of <code class=\"language-text\">IndexPage</code> and loop on its <code class=\"language-text\">allCosmicjsPosts</code> &#x26; <code class=\"language-text\">cosmicjsSettings</code> object to display the data.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/21b4d/gatsby-cosmic-screenshot-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABsElEQVQ4y41TSZLbMAzU//+SU+55xFQOk8PYlkmttkQttChu6oDUuCK77NioagHi0gWAjWQeBHpZQWkNPc/Qwb+Jmc5voZRC4qyGsTOc93DOwegZ1loYY74v0r/RcISw56whv5KF8/773hUJNhZIf/38gXT3BZZl2O93SLMSaSVWlA3YqUPddui7jgg87i1ZlgVbSHmBdxaLd6AP3AIou0TMbo3D2tXu7yfr4r9NTfFkgYvxkNpDb28/sGW53U+2i578R3rGB2vxdVb4rCYUg6Z9H3u1xbV/96Q3hMHzY4rjYUfYo8g4OEtxOByon/voGefI8xwZ9Tg82ktCOQ6QQ09NbzH2HQaK27aFoEcQQlCP5dPsHpZcSodscOARFpN73b//ZnisSBp1h6pXqAeFy0y6M0F3t6IOWW5f+SnhqcxRFxlOVY6mLnEmFEWBcRxjuQEhDsJ+SRhKHkhsJ2nRSINeWYjJxPV3JPOQ8JM3+M0Fdo0i6Uz4U080mvQIm/GKI0qj+UYPPSoqN+dHkgyjOMe5KsCDfEgmZVmCMRYlI0T3ng5X0XrYmMnqnwn6Udl/AT6MkxOKxjUgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gatsby Cosmic Screenshot\"\n        title=\"Gatsby Cosmic Screenshot\"\n        src=\"/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/fcda8/gatsby-cosmic-screenshot-1.png\"\n        srcset=\"/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/12f09/gatsby-cosmic-screenshot-1.png 148w,\n/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/e4a3f/gatsby-cosmic-screenshot-1.png 295w,\n/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/fcda8/gatsby-cosmic-screenshot-1.png 590w,\n/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/efc66/gatsby-cosmic-screenshot-1.png 885w,\n/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/c83ae/gatsby-cosmic-screenshot-1.png 1180w,\n/gatsby-bloga-2/static/b581a7c334c03fa127987ea031f5d14e/21b4d/gatsby-cosmic-screenshot-1.png 1280w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Single Post Layout</h2>\n<p>Till now we have integrated Cosmic source plugin with Gatsby and it’s looking like a blog. Now we will work on adding a details page for individual blog posts.</p>\n<p>Create the template at <code class=\"language-text\">src/templates/blog-post.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Helmet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-helmet\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">get</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"lodash/get\"</span>\n\n<span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/bio\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rhythm<span class=\"token punctuation\">,</span> scale <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../utils/typography\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> relative <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BlogPostTemplate</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> post <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>cosmicjsPosts\n    <span class=\"token keyword\">const</span> siteTitle <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"data.cosmicjsSettings.metadata.site_title\"</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"props.data.cosmicjsSettings.metadata\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> previous<span class=\"token punctuation\">,</span> next <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>pathContext\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n          .post-content {\n            text-align: justify;\n          }\n          .post-hero {\n            width: calc(100% + </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">);\n            margin-left: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n            height: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n          }\n          @media (max-width: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">) {\n            .post-hero {\n              width: calc(100% + </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">);\n              margin-left: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">3</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n              height: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n            }\n          }\n        </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Helmet title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> | </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>siteTitle<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            marginTop<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>← Back to Posts<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h1\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            marginTop<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>p\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">...</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            display<span class=\"token operator\">:</span> <span class=\"token string\">\"block\"</span><span class=\"token punctuation\">,</span>\n            marginBottom<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            marginTop<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">0.6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>created<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div\n          className<span class=\"token operator\">=</span><span class=\"token string\">\"post-hero\"</span>\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            backgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">\"#007ACC\"</span><span class=\"token punctuation\">,</span>\n            backgroundImage<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span>hero<span class=\"token punctuation\">.</span>imgix_url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">?w=2000\")</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            backgroundSize<span class=\"token operator\">:</span> <span class=\"token string\">\"cover\"</span><span class=\"token punctuation\">,</span>\n            backgroundPosition<span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span>\n            marginBottom<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            position<span class=\"token operator\">:</span> <span class=\"token string\">\"relative\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div\n          className<span class=\"token operator\">=</span><span class=\"token string\">\"post-content\"</span>\n          dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>content <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>hr\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            marginBottom<span class=\"token operator\">:</span> <span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Bio settings<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>ul\n          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n            display<span class=\"token operator\">:</span> <span class=\"token string\">\"flex\"</span><span class=\"token punctuation\">,</span>\n            flexWrap<span class=\"token operator\">:</span> <span class=\"token string\">\"wrap\"</span><span class=\"token punctuation\">,</span>\n            justifyContent<span class=\"token operator\">:</span> <span class=\"token string\">\"space-between\"</span><span class=\"token punctuation\">,</span>\n            listStyle<span class=\"token operator\">:</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">,</span>\n            padding<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span>previous <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>previous<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> rel<span class=\"token operator\">=</span><span class=\"token string\">\"prev\"</span><span class=\"token operator\">></span>\n                ← <span class=\"token punctuation\">{</span>previous<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\n          <span class=\"token punctuation\">{</span>next <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>next<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> rel<span class=\"token operator\">=</span><span class=\"token string\">\"next\"</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>next<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span> →\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BlogPostTemplate\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostBySlug($slug: String!) {\n    cosmicjsPosts(slug: { eq: $slug }) {\n      id\n      content\n      title\n      created(formatString: \"MMMM DD, YYYY\")\n      metadata {\n        hero {\n          imgix_url\n        }\n      }\n    }\n    cosmicjsSettings(slug: { eq: \"general\" }) {\n      metadata {\n        site_title\n        author_name\n        author_bio\n        author_avatar {\n          imgix_url\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>That looks fine, but at this point, Gatsby does not know when this template should be displayed. Each post needs a specific URL. So, we are going to inform Gatsby about the new URLs we need using the <a href=\"/gatsby-bloga-2/docs/node-apis/#createPages\"><code class=\"language-text\">createPages</code> API</a>.</p>\n<p>Path: <code class=\"language-text\">gatsby-node.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">const</span> indexPage <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./src/pages/index.js\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    component<span class=\"token operator\">:</span> indexPage<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> blogPost <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./src/templates/blog-post.js\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      {\n        allCosmicjsPosts(\n          sort: { fields: [created], order: DESC }\n          limit: 1000\n        ) {\n          edges {\n            node {\n              slug\n              title\n            }\n          }\n        }\n      }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    reporter<span class=\"token punctuation\">.</span><span class=\"token function\">panicOnBuild</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Error while running GraphQL query.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Create blog posts pages.</span>\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allCosmicjsPosts<span class=\"token punctuation\">.</span>edges\n\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> next <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node\n    <span class=\"token keyword\">const</span> previous <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node\n\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">posts/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      component<span class=\"token operator\">:</span> blogPost<span class=\"token punctuation\">,</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        slug<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n        previous<span class=\"token punctuation\">,</span>\n        next<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Restart the Gatsby server, then visit the detail page by clicking on URLs displayed on the homepage.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/21b4d/gatsby-cosmic-screenshot-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAAC0UlEQVQ4y4VUS08TURTu7yHQnUnLlFYeoaHEmMjehJWJ8Re4cOGCjVExmoZAKe30QWtxbVyobJBoWzrT17S+oO8HpYBW2k4fn2fulEYQ402+fOeeuec737mTGU3rxzFOGxU02220Cb1eb4h+vw9lnXO320Wr1fonms0mNN2ODLnTpMMy2q0zZDP7KBZyyGUPGD6nJWQO9hkfVivUqIOO3EKn01Yhq6w0U6DBpRUWU9gNxhCTvrM4JEgQE9+w+ymKXOkY/1tMsEfuKnE/yiKPasyDWtKHeiqA4/QWTr8Q0gHiV6hLPpQFF0qCG0Xiwp4buRCPTNgPZdKhYLfdQMyph7A2AnFdC8E2hsjqKCJro5QbhWhTY3F9DFHl+aoW4RUtQlYtPjwbwfayHnLz5x+CcgPJl3NIeDgkN01IeI2MUz4T0j6V4x4TJMp9DRgpZ0TMRTm3CaLTgD1+Dh0ydcGh4DZDcOgh8hPsUJQ3UJGBilTECGG7AW8eT2P7+SQiDo6dETf0iPDmKwRdZoRtOjpogECCIq+yUnQu/nZ5Aku3p2G9d52ac4hTLmrXU0Mz07gwctw7i6hDxwqZM4V5FSIV760bELJx2LEaiafw+tEUgjYjouQw7rlS0IwYCapC1F2Bk8YiMXGDQ8TOIbjG4eMKh3dPruPuLQuNP4OEY5wczl4tKCp36KQ7pLHjgzET7gkSVu7KwFwGVw14/5TD4s1J3F+cws6LcUi+yw5pk9ycRsJ1jQT0kDw6hrhLh6SbQBzndRA2dCSsw65Vh6U7HLwPxrH1UI+QfQZ9+YLDX0huLbB7lPzzSAUskAgJ399I+i0IOS3wLt2gtztPE80i4llAjzSGgsrH3+ucMaf1WomhVing5KiCkzrhqDzI5dV9vTrIVyC3GlR3NvyBaJRgEEOhbC6PfL6IYrGEUrmCAnGhWGasPGNxoYhMNofqYQ2DUsaK1m8EGNB7UH6HHgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gatsby Cosmic Screenshot\"\n        title=\"Gatsby Cosmic Screenshot\"\n        src=\"/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/fcda8/gatsby-cosmic-screenshot-2.png\"\n        srcset=\"/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/12f09/gatsby-cosmic-screenshot-2.png 148w,\n/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/e4a3f/gatsby-cosmic-screenshot-2.png 295w,\n/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/fcda8/gatsby-cosmic-screenshot-2.png 590w,\n/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/efc66/gatsby-cosmic-screenshot-2.png 885w,\n/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/c83ae/gatsby-cosmic-screenshot-2.png 1180w,\n/gatsby-bloga-2/static/b666a0fa8d685e0597b20725e06514cc/21b4d/gatsby-cosmic-screenshot-2.png 1280w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Extra Stuff!</h3>\n<p>In addition to the code covered in this tutorial, we also implemented <code class=\"language-text\">src/components/bio.js</code> to display author information &#x26; <code class=\"language-text\">src/layouts/index.js</code> to <a href=\"/gatsby-bloga-2/tutorial/part-three/#our-first-layout-component\">create a generic layout</a> for the blog.</p>\n<p>The source code for this tutorial is available <a href=\"https://github.com/cosmicjs/gatsby-blog-cosmicjs\">on GitHub</a>. To see it live, clone the repository, and run (<code class=\"language-text\">cd gatsby-blog-cosmicjs &amp;&amp; npm i &amp;&amp; npm run develop</code>) or check out the <a href=\"https://gatsby-blog-cosmicjs.netlify.app/\">demo on Netlify</a>.</p>\n<p>The static website generated by Gatsby can easily be published on services like Netlify, S3/CloudFront, GitHub Pages, GitLab Pages, Heroku, etc.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/21b4d/gatsby-cosmic-screenshot-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADJElEQVQ4y4WT61MbVRiH9y/x33H0Yz+0n/xinaodpg7qoKWoMDhWpx3AFsa2U24mQm1RAXvBECAJEJIAhQYoFyF3ct1sNrubkPvjSdKOpU7Hd/bZ3zvvOee37zlzVqoYGYxcglKpSEVQfoXKG6i+pNyk9oJqqYC05NNw+LMsB/M4gzmWAgaLAodfxy5YEONzRxqWwywzB1ke7qtM7ir8tpPmnlfGtCkzuJ5iwJPg+nIMaXRTx/TMEAj16ozvlfj1oML4fgXzbomf9yoMbhe45c1zcyNHz7rBVY9Gp1Plsl2h5XGE96dDnJvw887YIZL5mcYvXo2xLV2gcW3KQ5fZyjemWbrvL9F2e5J20xzt5gXax2x8OmKl5e5ffCz44I6FNmuUS08CnJ/yc3biCGnoqcrwhsrIZpZRYf7dHx7aRy10mKx0mOf5UuSfDT7m8+EZLplWuDg4R8uQhY+GrFwYmqd1JsT5Rynem45z9sHfSD+tKtxeE6wr3FnPMLyVY+R5geGdE7HVPHe3c/R7i0zs+LHv2Oj1ROlwFbmyrPOJLU+rNUXPzO9cvdfHmfvCsM8lc8Odpt+TZmC1rjI33SlRS/GjO0mvK8G1lSQ9zjDJ7a9Irl3A4hzh+coVZpcGWLT/wGTfW7Te+p53H0SQvp6P0mmL0W2P862jTqyh3YsCkXcJOu0RvlhIYnbOsrHWi9t9A4+jjT+nPqSrv5WW65c5M77F22N7SIsBTVwZTVwZjZWQzmq8iPs4jyfaxH2cw3Vs4IroLEfyOMIFFkIFLIEyDw9LPDnKN3h0oDC9KyNxKmo8tc2gJqIY2QyqnCCbUdA1rUlWJW/oFAyNoqGK+VVeD6laq1GtCoRWhAYDARQljZwWyCmSGZ1j9YSoIKbmRZ5HzRXEn1WiXKk21ryKVBNG4ml0V9d6WhavSq2p/xfN9f8ivSzWo97lfkIX5PApRfZTJySN8ovDeLPhqS2fKgpNJOIk4nEyikI2myUtNJPJiGNQUFWVjNrMZVmmWCz+x/R0h9UqkUiEUCiEz+draDgcxh/wEwgGCYjzjcZiDeP6x+rzXzf8B6BCImCERHRHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gatsby Cosmic Screenshot\"\n        title=\"Gatsby Cosmic Screenshot\"\n        src=\"/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/fcda8/gatsby-cosmic-screenshot-3.png\"\n        srcset=\"/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/12f09/gatsby-cosmic-screenshot-3.png 148w,\n/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/e4a3f/gatsby-cosmic-screenshot-3.png 295w,\n/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/fcda8/gatsby-cosmic-screenshot-3.png 590w,\n/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/efc66/gatsby-cosmic-screenshot-3.png 885w,\n/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/c83ae/gatsby-cosmic-screenshot-3.png 1180w,\n/gatsby-bloga-2/static/736d5becf64d913396cf274aefc2d544/21b4d/gatsby-cosmic-screenshot-3.png 1280w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Conclusion</h3>\n<p>Congrats! You’ve successfully built a super fast and easy-to-maintain blog! Feel free to continue this project to discover both Gatsby and Cosmic advantages.</p>","frontmatter":{"title":"Build a Gatsby Blog using the Cosmic source plugin","date":"June 07, 2018","description":null}}},"pageContext":{"slug":"/docs/blog/2018-06-07-build-a-gatsby-blog-using-the-cosmic-js-source-plugin/","previous":{"fields":{"slug":"/docs/blog/2017-05-31-introduction-to-gatsby/"},"frontmatter":{"title":"Introduction to Gatsby"}},"next":{"fields":{"slug":"/docs/blog/2018-06-08-gatsby-marketers-managers-agencies-teams/"},"frontmatter":{"title":"Gatsby for Marketers, Managers, Agencies and Teams"}}}}}