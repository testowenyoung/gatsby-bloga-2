{"componentChunkName":"component---src-templates-blog-post-js","path":"/docs/blog/2018-11-03-building-an-accessible-lightbox/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"6f0b1691-5420-5754-a4ce-37c4f36ea719","excerpt":"In this tutorial youâ€™re going to cover the steps to creating a simple, custom, accessible image lightbox inside a GatsbyJS application. You can check out theâ€¦","html":"<p>In this tutorial youâ€™re going to cover the steps to creating a simple, custom, accessible image lightbox inside a <a href=\"/gatsby-bloga-2/\">GatsbyJS</a> application. You can check out the finished example on <a href=\"https://github.com/416serg/GatsbyLightbox\">GitHub</a> (<a href=\"https://gatsbylightboxv2.416serg.me/\">Demo</a>) or continue reading to dive right into the magic.</p>\n<h2>Getting started</h2>\n<p>If you donâ€™t have Gatsby installed, open up your terminal and type in:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --global gatsby-cli</code></pre></div>\n<p>Then, still in your Terminal, head over to a folder youâ€™d want to get started in and type in:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">gatsby new GatsbyLightbox https://github.com/gatsbyjs/gatsby-starter-default</code></pre></div>\n<p>Once itâ€™s done scaffolding the starter application, type in:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> GatsbyLightbox\n<span class=\"token function\">yarn</span> develop</code></pre></div>\n<p>Now open up your browser to <code class=\"language-text\">http://localhost:8000</code> and you should see the starter application ready to go.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/a2b91/screen-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwUlEQVQoz6VQ0QqCQBD0/3+kH+i5hx6KIEIiIihLQw0r0zQy9famUznSQyJzYLjdnd1hbzV756Pk1odrBNjoJmZjHeuFAc8K4R1DnA5BqTuy9ws1KMjyF/zbFfHjLjKOrtCIOCS5IMsZGBGSJBUbBmWNOlDjvNqieGUcOS704RzL0b7S6KO1oe7RNKQqtlcmJoMpWJY1BjoZ1oXwkuBsRY36XxsWyFOGZ5yKe1Ct3sNQHldt7PVltekvwzaDX8zU2Tf1yhFGwbTPpQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gatsby Starter Screenshot\"\n        title=\"Gatsby Starter Screenshot\"\n        src=\"/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/fcda8/screen-4.png\"\n        srcset=\"/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/12f09/screen-4.png 148w,\n/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/e4a3f/screen-4.png 295w,\n/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/fcda8/screen-4.png 590w,\n/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/efc66/screen-4.png 885w,\n/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/c83ae/screen-4.png 1180w,\n/gatsby-bloga-2/static/249c91af68d56eff454e482388ecd021/a2b91/screen-4.png 3360w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Open up your favorite code editor to start setting stuff up.</p>\n<h2>Gatsby Image</h2>\n<p>Dealing with images on the web has always been an issue. You have to have the right sizes, you have to have the right formats, if something is too big, it will load slowly, etc. Luckily, Gatsby built a plugin to handle images elegantly called <a href=\"https://www.npmjs.com/package/gatsby-image\"><code class=\"language-text\">gatsby-image</code></a>. Using Gatsbyâ€™s GraphQL queries, you can request different sizes, formats and have a few options as to how you want to handle the image load. For this tutorial youâ€™ll be using a blur up approach, similar to how Medium handles their images.</p>\n<p>If you open up the <code class=\"language-text\">index.js</code> file in the pages folder, youâ€™ll see there is an <code class=\"language-text\">&lt;Image/&gt;</code> component that does exactly that.</p>\n<p>Youâ€™ll take a similar approach.</p>\n<h3>Configure <code class=\"language-text\">gatsby-config.js</code></h3>\n<p>Youâ€™ll put all of the images in a folder inside <code class=\"language-text\">src/cars</code> (You can get them from the <a href=\"https://github.com/416serg/GatsbyLightbox/tree/master/src/cars\">GitHub repo</a> or use your own, just make sure to follow a similar format). Then, youâ€™ll edit the <code class=\"language-text\">gatsby-config.js</code> file to expose that folder to a GraphQL query.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cars</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/cars</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>Add that under the existing filesystem config and then restart your Gatsby server (I believe itâ€™s necessary for it to build the query before calling it).</p>\n<h3>Creating a <code class=\"language-text\">Cars</code> component</h3>\n<p>Now that you have configured the filesystem, go ahead and create a component that will request all the images with a GraphQL query.</p>\n<p>Create a new file inside <code class=\"language-text\">src/components</code> called <code class=\"language-text\">cars.js</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StaticQuery<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> Lightbox <span class=\"token keyword\">from</span> <span class=\"token string\">\"./lightbox\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Cars</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>StaticQuery\n    query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      query {\n        carImages: allFile(filter: { sourceInstanceName: { eq: \"cars\" } }) {\n          edges {\n            node {\n              childImageSharp {\n                fluid(maxWidth: 2000) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n          }\n        }\n      }\n    </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n    render<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Lightbox</span></span> <span class=\"token attr-name\">carImages</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>carImages<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Cars</code></pre></div>\n<p>Notice how the <code class=\"language-text\">StaticQuery</code> component is using a render prop where itâ€™s returning your <code class=\"language-text\">Lightbox</code> component. For now, itâ€™s a simple component inside <code class=\"language-text\">components/lightbox.js</code> that looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Lightbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    carImages<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> carImages <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>carImages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span>\n            <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">fluid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">/></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>By now, you should have all the images displaying on the home page and doing a fade-up load.</p>\n<h3>Styled Components</h3>\n<p>For styling, youâ€™re going to be using <a href=\"https://styled-components.com/\">styled-components</a>. To get it configured with Gatsby, run the following inside your terminal in your application:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gatsby-plugin-styled-components styled-components babel-plugin-styled-components</code></pre></div>\n<p>And add the following to <code class=\"language-text\">gatsby-config.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* existing config */</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-styled-components</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">/* existing plugins */</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Lets restart the application to make sure the config has taken its effect. Now, youâ€™re going to create a simple <code class=\"language-text\">LightboxContainer</code> styled component to wrap your images in. Your <code class=\"language-text\">lightbox.js</code> component should look like this now:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">\"styled-components\"</span>\n\n<span class=\"token keyword\">const</span> LightboxContainer <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 5px;\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Lightbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    carImages<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span> <span class=\"token comment\">// eslint-disable-line</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">static</span> state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    open<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> carImages <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LightboxContainer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>carImages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span>\n            <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">fluid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">/></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LightboxContainer</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now the page should look something like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/bf9ea/screen-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB70lEQVQ4y6WSS28SYRSG57eof0HTRRMXGuOiNakxLtAQXZjozoUxipc/wKpubGINptg2VrSXDWgtBXsLKWhNKhSqoBCCHegAUqEyl0fmApnqBuqXvJmTc75zvnfe9wiXjj3CcWSYmyef8XBoCtfAJHcHJrh91otrcKKV9+A4Oox+rxsI895PvG0h4I3xZjxG4HmU96/jLE0nWJ5JEPZ9NurzXULAOtU9iWw+Y+B/jqDIKqqiUqvtIe2WKUsVisUizWazldfQ671A0DTNmKyqKrKsGHGt3KAi/jJivd6+0xVD47LVINfrlNI5Iq82SKzlzYHqIQa2G35sfSfgfkFsNsrvhtph2JOG9qb9epP1uU2qYsVkLMsoitL52qFLZEI7II2AjWHjZ4PMR7FnZ+1/IWi2RLMFsbpPJBol/iFGaPEd076XPBkdYXLKx0I4jH9xhtBKkHQ2y8bXPMlcyTS1zVDTTK3WIkuMj7nxjNxi7P4DRq/fwH3HhfOqk8un+7l3/gJ9x09w5lQ/jiuDOK+dY+hiH089jzvyWANNdsnNBCF/gMhyEKlQQNoR2d0pkdpOEl9fJb66QmorTiGX5Vtmm1AwwIJ/jvSXVGftTA0P4eS/Gqp/7aE1VH9Fd1CzXtN30HBSd/WAs6rltmzEdpf/AFqE9YyDVHnpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Displaying images on the home page\"\n        title=\"Displaying images on the home page\"\n        src=\"/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/fcda8/screen-3.png\"\n        srcset=\"/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/12f09/screen-3.png 148w,\n/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/e4a3f/screen-3.png 295w,\n/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/fcda8/screen-3.png 590w,\n/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/efc66/screen-3.png 885w,\n/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/c83ae/screen-3.png 1180w,\n/gatsby-bloga-2/static/a8b5286e8f5634e217507649e786d6f5/bf9ea/screen-3.png 2716w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Creating the Lightbox</h3>\n<p>For the sake of accessibility, youâ€™ll be using <a href=\"https://ui.reach.tech/dialog\">Dialog</a> from Reach UI - shout out to <a href=\"https://github.com/ryanflorence\">Ryan Florence</a> for making awesome, accessible tools for React. As a side note, Gatsbyâ€™s router is using <a href=\"https://reach.tech/router\"><code class=\"language-text\">@reach/router</code></a> under the hood, so youâ€™re keeping it in the family ðŸ˜‰</p>\n<p>Go ahead and install all the dependencies:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> @reach/dialog</code></pre></div>\n<p>And configure a basic dialog inside the <code class=\"language-text\">Lightbox</code> component.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> Fragment <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">\"styled-components\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Dialog <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@reach/dialog\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"@reach/dialog/styles.css\"</span>\n\n<span class=\"token keyword\">const</span> LightboxContainer <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 5px;\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Lightbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    carImages<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span> <span class=\"token comment\">// eslint-disable-line</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      showLightbox<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> carImages <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> showLightbox <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LightboxContainer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>carImages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span>\n              <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">}</span></span>\n              <span class=\"token attr-name\">fluid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span></span>\n            <span class=\"token punctuation\">/></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LightboxContainer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> showLightbox<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          Show Dialog\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>showLightbox <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Dialog</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Image will go here</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n              <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> showLightbox<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              Clos\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Dialog</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now, when you click the <code class=\"language-text\">Show Dialog</code> button, you should see something like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/bf9ea/screen-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACd0lEQVQ4y52TW08TURSF+zfAR8UYAy8iKgmXYHgzShqJTxIVNI0RGop9KEophnAnUmuhXFprKdB2Opd2WowSjb6QCIn8AB7BlHiJv0DzeWZguBSNiZOs7DP7nLXO3mv22OpPtFFX0srVinZuVD/EXunEft5J07kO7FVOrpTfp6bkNrXFKL2DyS1tNaMFm8/1FAPezlF6u8ZQ4yt8WF5nRVvlfX6Nd/pH3sir+3idXuVtZo34VBavc4y+Pb4Fm57XyC1niMWjzMyF+PJth1/85F/P9x9fUTMyuuAaGhZsqWSKVEoiPr9ANPqS9bV1Njc3KRQKbG9/PoatrW12CjtsfNogsZQwuabGHmySJJFOp5EkQziFrMrEogtEZmL7ub9hlydhaRjYFdxLJBcWeRGcZsg9jn9wFlVTjhwuxp/2bNYNsqIQDoToaeli1DMi2hE5Of3/gmlBTiwmGfZMEAvHxAWi4mTSbM2I1tqCwUkdatfSOahQCC7OLzE5GkaRVbRMhmw2Sy6fZ3n5Ffl8Dl3XyekiZnU0TSOjiXOqUuShVbqikpQ1IvMJBoeG8Y8M88TXi7vLhcNxl45OF15fH929bnz9XoJTU4xPzuIPRVAV+WiFihAbGOrH2d7CA8c1OpqbcTQ2crPJTn1DPTUVZ7h+8RJlJ09RfvY0tQ1V1F2u5EJ1GW33bpkdGJYcElSYGB/D43bhe9TN3OS0GJ0o0UiUwPOAqHYQ/8AAwcAzwrMzhEJBUX0PvsceM6eq6kGFlqGGqKplhDdZ4aeCIrwxcoZXmvBSM3wTvhpkVRV/heFlLmfuH5/DQ1/JGOaDtXRsmK0zu++izaIB/w0zTR6UMcGwKwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Basic Dialog implementation\"\n        title=\"Basic Dialog implementation\"\n        src=\"/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/fcda8/screen-2.png\"\n        srcset=\"/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/12f09/screen-2.png 148w,\n/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/e4a3f/screen-2.png 295w,\n/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/fcda8/screen-2.png 590w,\n/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/efc66/screen-2.png 885w,\n/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/c83ae/screen-2.png 1180w,\n/gatsby-bloga-2/static/4ecc22529b90496db8a9a4ff5fd328c1/bf9ea/screen-2.png 2716w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Connecting the image click to the Lightbox</h3>\n<p>Now, youâ€™re going to convert each <code class=\"language-text\">Img</code> component into a button that you can click that will trigger the lightbox to open up with the right image selected. Hereâ€™s how you do that:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> Fragment <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">\"styled-components\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Dialog <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@reach/dialog\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"@reach/dialog/styles.css\"</span>\n\n<span class=\"token keyword\">const</span> LightboxContainer <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 5px;\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">const</span> PreviewButton <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>button<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  background: transparent;\n  border: none;\n  padding: 0;\n  margin: 0;\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Lightbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    carImages<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span> <span class=\"token comment\">// eslint-disable-line</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      showLightbox<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      selectedImage<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> carImages <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> selectedImage<span class=\"token punctuation\">,</span> showLightbox <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LightboxContainer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>carImages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PreviewButton</span></span>\n              <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">}</span></span>\n              <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> showLightbox<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> selectedImage<span class=\"token operator\">:</span> image <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">}</span></span>\n            <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span> <span class=\"token attr-name\">fluid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">PreviewButton</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LightboxContainer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>showLightbox <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Dialog</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span> <span class=\"token attr-name\">fluid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>selectedImage<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>fluid<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n              <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> showLightbox<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              Close\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Dialog</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now, if you click on one of the images, it should look something like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/3c9d8/screen-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACyklEQVQ4y3WS204TURSG+yJqjBo1aiQEY0QjNFFRELFgoZSzFKGkIMrBE4mihmiqKCgSQKBI6XT2TE+AEUQDMcTEaPTCC+MDgFbAV/jcUxisF158WTN77/Xv/a+1LNbNLkzy05ooSm/GcaSV4oyrlFqvUybJT7lEzk4PObsaEpze3ciJbXVkbqomOd/Acq/9CSYdbV68Hb3Egq8RfUECT8cY6RvlkVdy30ePV/LAR9f9YbSxabpuD9B5vYdkDUt0IoxBbDJC/2Af4WiIgecDZFmP0uw+j73EiSPnIKVnD5GWnsaRzHT27N2N3+9j4f079LBI5Jo6FlUVmIyM+JiZmeFR9xO2bN9Bni2f9IzjFGQdxOHMxu60c6PKRVONh08fPzM5OUUgoJCsYdE0DRO/38/8/By9/YPs3J9KTW0dD641U1lWgbvIyUP7OT503KGnspYv8wu8nH5FUFFI1kgICiHkj2Bc3vZK1+ju6WZrygE679zlpe8hLW2V2FIPoGRZedvezI19Kei9fczOzaEEAv8XDChBImMBGRXOllXxYtRHTIwSDXVT6XLx7EI1Iy0ejuXmoscmeDM7Ky3/FTR01gSlmBBrUfELvn39zuLiIivLy8TjcVZXlhPfy/Ff/PwR5/fqb5aWltClG6GqG2LahqAQCcKRMAG/xothFVUeDso9VSYYe4qRqOvyTAg9pMkYJRKdQoRi6w6NByVblvQPDfG4t4vbnbfwFDtpLCmhuLCQ7JMnOJdzCluujcMZh8jOO0ZxeSHupjqq6usT7jYsm68zFtqvXcFTU0RrQzl3LzZxs6GRtsstuGuraasoo8rhoCDvDPVuF7aCLGx5VjkBBTJXT/RAJFs2ojIeZNwv7QppLRaTgzohrUWISLRQSFqMytmbZEI2RBhzF5TlUM0eJAluIOtmFDpxiayZWT+zJEZU19fXzur/jIzBH+bavK0IrqoUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Final Lightbox\"\n        title=\"Final Lightbox\"\n        src=\"/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/fcda8/screen-1.png\"\n        srcset=\"/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/12f09/screen-1.png 148w,\n/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/e4a3f/screen-1.png 295w,\n/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/fcda8/screen-1.png 590w,\n/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/efc66/screen-1.png 885w,\n/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/c83ae/screen-1.png 1180w,\n/gatsby-bloga-2/static/c5d99e7e16c5a676f8bae492315b1494/3c9d8/screen-1.png 2724w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Now you can go ahead and implement this in your e-commerce store, picture gallery, or anywhere else you might see fit ðŸ˜ƒ</p>\n<p>Feel free to <a href=\"https://twitter.com/416serg\">tweet me</a> if you have any questions, comments, requests or just want to show some â¤ï¸.</p>","frontmatter":{"title":"Building a custom, accessible image lightbox","date":"December 20, 2018","description":null}}},"pageContext":{"slug":"/docs/blog/2018-11-03-building-an-accessible-lightbox/","previous":{"fields":{"slug":"/docs/blog/2018-10-26-export-a-drupal-site-to-gatsby/"},"frontmatter":{"title":"How to export a Drupal site to Gatsby"}},"next":{"fields":{"slug":"/docs/blog/2018-12-17-turning-the-static-dynamic/"},"frontmatter":{"title":"Turning the Static Dynamic: Gatsby + Netlify Functions + Netlify Identity"}}}}}