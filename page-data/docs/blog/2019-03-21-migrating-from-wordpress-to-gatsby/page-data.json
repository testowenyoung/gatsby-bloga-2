{"componentChunkName":"component---src-templates-blog-post-js","path":"/docs/blog/2019-03-21-migrating-from-wordpress-to-gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"2f107a4c-496d-5ad0-ac14-8ac394bd2b5a","excerpt":"On September 24th, 2015, I wrote my first article on taniarascia.com, which was a custom, self-hosted WordPress theme. I discovered Git, I discovered WordPress…","html":"<p>On September 24th, 2015, I wrote my <a href=\"https://www.taniarascia.com/getting-started-with-git/\">first article</a> on <a href=\"https://www.taniarascia.com\">taniarascia.com</a>, which was a custom, self-hosted WordPress theme. I discovered Git, I discovered WordPress, and I <a href=\"https://github.com/taniarascia/oblate\">made 1,039 commits</a> to the theme, in which I obsessively <a href=\"https://www.taniarascia.com/version-2-0-website-redesign-863-commits-later/\">designed</a> and <a href=\"https://www.taniarascia.com/website-redesign-version-4-0/\">redesigned</a> the site.</p>\n<p>I’ve had quite a bit of experience with WordPress. Once I learned how to create a WordPress blog, I wrote <a href=\"https://www.taniarascia.com/developing-a-wordpress-theme-from-scratch/\">Developing a WordPress Theme from Scratch</a>, a post that has had millions of hits, hundreds of comments, made me plenty of friends, and launched my blogging career. I also worked as a WordPress developer for two years. For the past four years, the blog had been running on WordPress. It was as fast, as custom, and as free of plugins as I could possibly make it, but WordPress is cumbersome, and there’s only so fast and pleasant to use you can make it.</p>\n<p>After 10 days of obsessively working non-stop, I’ve finally migrated my site over to <a href=\"/gatsby-bloga-2/\">Gatsby</a>! You may notice the site is a little faster now:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/874d1/speed.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9ElEQVQY05WQ20rDQBCG8/4v0gdQEepFxSoqFFoE0dYS6opJmmbPpzjZg5PojZd+zCw7M/zMocg5Q4CSfRBe5YRRDiHAAMMI/DD9B8znvxQxpcvXm/vDZrF/XJYrTAkhCCFte6rr5nOiqqqmaaSUWE0pxYjvJCa8nu9uS0qe6u1sfS68zjEy6ZgKyoJSShuDhkprrRnNURW4DiHmolbtxcv1ybB9d5itzwy44Qs6RqngKORCaEGVlDhO3/fB+2FaI8SxdYH+8L652t3Nt8vn5m08AYA0qtW0d944D6LyVo9tnfPHo8c5rMFz/Ipxjc5y5mT+J9/cVVR2hhkuVwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Lighthouse Performance Score\"\n        title=\"Lighthouse Performance Score\"\n        src=\"/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/fcda8/speed.png\"\n        srcset=\"/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/12f09/speed.png 148w,\n/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/e4a3f/speed.png 295w,\n/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/fcda8/speed.png 590w,\n/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/efc66/speed.png 885w,\n/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/c83ae/speed.png 1180w,\n/gatsby-bloga-2/static/b9f3870eb9e5cd6208682dbc44a6d99b/874d1/speed.png 1310w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>In <a href=\"https://developers.google.com/speed/pagespeed/insights/\">Google PageSpeed Insights</a>, the blog would hover around a 60-70 speed score. After converting to Gatsby, the score is 99 for mobile and 100 for desktop, passing 22 audits.</p>\n<h2>Why Gatsby?</h2>\n<p>There are <a href=\"https://www.staticgen.com/\">a lot of static site generators</a> to choose from. <a href=\"https://jekyllrb.com/\">Jekyll</a>, <a href=\"https://gohugo.io/\">Hugo</a>, <a href=\"https://nextjs.org/\">Next</a>, and <a href=\"https://hexo.io/\">Hexo</a> are some of the big ones, and I’ve heard of and looked into some interesting up-and-coming SSGs like <a href=\"https://www.11ty.io/\">Eleventy</a> as well. At first, I thought I’d just want something that outputs straight HTML, and that a heavy JavaScript app couldn’t possibly be better than simple HTML and CSS.</p>\n<p>However, I realized that a static site generator like Gatsby utilizes the power of code/data splitting, pre-loading, pre-caching, image optimization, and all sorts of performance enhancements that would be difficult or impossible to do with straight HTML.</p>\n<p>Since I primarily write JavaScript these days, I wanted an SSG that runs on Node.js, and if it uses React, even better. I tested out a few sites that run on Gatsby and yeah - they were fast. Blazingly fast.</p>\n<h3>A few things I really like about Gatsby</h3>\n<ul>\n<li><strong>No page reloads</strong> - this site is now a SPA (single page app), and clicking on any internal page from within the website doesn’t need to load a completely new resource</li>\n<li><strong>Image optimization</strong> - all the images are automatically stripped of metadata, optimized, resized, lazy-loaded, and compressed</li>\n<li><strong>Pre-fetch resources</strong> - Gatsby detects what links are available on a given page and loads that data into the cache</li>\n<li><strong>Bundling and minification</strong> - code is minified, bundled, and served</li>\n<li><strong>Server-side rendered, at build time</strong> - Gatsby builds optimized static assets, which can be hosted anywhere!</li>\n<li><strong>Articles are saved in beautiful Markdown</strong></li>\n<li>Every time I push to the repo, the site gets automatically deployed (thanks to Netlify)</li>\n</ul>\n<p>Very little boilerplate code was necessary to get started with Gatsby. I just forked the <a href=\"https://github.com/vagr9k/gatsby-advanced-starter/\">Gatsby Advanced Starter</a>, a very simple, minimalist, completely UI-free foundation after my own heart, and started working with it.</p>\n<p>I should mention I moved my host to <a href=\"https://www.netlify.com/\">Netlify</a>, which has been a great experience. I really can’t say enough positive things about them. I’ve been highly impressed with how quick and easy it is to set up and deploy my new site.</p>\n<h2>My Migration Process</h2>\n<p>I’ve been putting off migrating to a static site for months and months, because I knew it would be a huge time sink, obsession, and a lot of work. I had over 100 guides and tutorials to migrate, and in the end I was able to move everything in 10 days, so it was far from the end of the world.</p>\n<p>If you’ve been thinking about moving your blog from WordPress to a static site but have been putting it off due to fear of how long it will take and how much work it will be, I highly recommend giving it a shot. I’ll give you the basics of what I did in case you also want to make the switch.</p>\n<ul>\n<li>First, I downloaded the XML from WordPress in the <strong>Tools -> Export</strong> section.</li>\n<li>I used the <a href=\"https://github.com/thomasf/exitwp\">ExitWP</a> tool to convert the XML to Markdown. This did about 50% of the work of converting the posts.</li>\n<li>I converted tables to Markdown with the <a href=\"https://jmalarcon.github.io/markdowntables/\">HTML to Markdown Table Converter</a>.</li>\n<li>I manually indented all code blocks, converted all four-indent spaced code blocks to GitHub style fenced codeblocks, and fixed all the broken lists.</li>\n<li>I used Prettier on all the Markdown files to try to make them consistent. Here is a little snippet I used to run Prettier on all the posts:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> i -g prettier <span class=\"token comment\"># install prettier globally</span>\n<span class=\"token builtin class-name\">cd</span> content/posts  <span class=\"token comment\"># move to the directory that contains all your posts</span>\nprettier\n  --print-width <span class=\"token number\">100</span>\n  --no-semi\n  --single-quote\n  --jsx-single-quote\n  --trailing-comma es5\n  --arrow-parens avoid\n  --parser <span class=\"token string\">\"markdown\"</span>  <span class=\"token string\">\"**/*.md\"</span> <span class=\"token comment\"># modify this based on whether your posts are in individual folders or not</span></code></pre></div>\n<ul>\n<li>I had to re-write all the styles now that the site wasn’t using any WordPress classes, which I did using my Sass boilerplate/CSS framework <a href=\"https://taniarascia.github.io/primitive\">Primitive</a>.</li>\n<li>I pulled in all the images from <code class=\"language-text\">wp-content/uploads</code> to the <code class=\"language-text\">images</code> folder.</li>\n<li>I used some regex to delete all WordPress thumbnails, e.g. all images that end in <code class=\"language-text\">150x150</code>, <code class=\"language-text\">300x300</code> and <code class=\"language-text\">1024px1024px</code> or any variation thereof, then I did a find/replace all to make sure all files were linking to <code class=\"language-text\">../images/file.ext</code> instead of <code class=\"language-text\">wp-content/uploads/file.ext</code>.</li>\n<li>I manually saved all my thumbnails and moved them to a thumbnails folder so I could reuse them easily across multiple posts.</li>\n<li>I created a new night mode using <a href=\"/gatsby-bloga-2/blog/2019-01-31-using-react-context-api-with-gatsby/\">React Context API</a> as a wrapper.</li>\n<li>I migrate all comments from WordPress to Disqus with the <a href=\"https://help.disqus.com/import-export-and-syncing/importing-comments-from-wordpress\">Disqus manual importer</a>.</li>\n</ul>\n<p>You can <a href=\"https://github.com/taniarascia/taniarascia.com\">view the source of the completed website</a>.</p>\n<p>From there it was just a matter of building out all the pages, learning enough GraphQL to make the proper queries, and doing a lot of small cleanup and tweaks.</p>\n<h2>Conclusion</h2>\n<p>It took a bit of work, but the <a href=\"https://www.taniarascia.com\">taniarascia.com</a> blog is now built with React, Node.js and Gatsby, and hosted on Netlify. I feel great that all of my posts are now safely saved in version control and markdown. It’s a relief for me to know that they’re no longer an HTML mess inside of a MySQL database, but markdown files which are easy to read, write, edit, share, and backup.</p>\n<p>There is a good amount of prerequisite knowledge required to set up a Gatsby site - HTML, CSS, JavaScript, ES6, Node.js development environment, React, and GraphQL are the major ones. If you’re a complete beginner to all of these technologies, setting up a Gatsby blog might be a bit of a challenge. However, the <a href=\"/gatsby-bloga-2/tutorial/\">Gatsby Getting Started Tutorial</a> is a complete step-by-step guide that covers most of these topics, and is a great choice for an intermediate developer.</p>\n<p>Good luck, and happy coding!</p>","frontmatter":{"title":"Migrating From WordPress to Gatsby","date":"March 21, 2019","description":null}}},"pageContext":{"slug":"/docs/blog/2019-03-21-migrating-from-wordpress-to-gatsby/","previous":{"fields":{"slug":"/docs/blog/2019-03-18-releasing-new-schema-customization/"},"frontmatter":{"title":"New Schema Customization API - Available in Gatsby 2.2.0"}},"next":{"fields":{"slug":"/docs/blog/2019-03-21-add-auth0-to-gatsby-livestream/"},"frontmatter":{"title":"Add Authentication to Your Gatsby Apps With Auth0 (Livestream)"}}}}}