{"componentChunkName":"component---src-templates-blog-post-js","path":"/docs/blog/2017-11-06-migrate-hugo-gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"842035da-442f-5c65-87f0-51e932c8d469","excerpt":"Introduction As my\nrecent evaluations of Gatsby\nwere positive, I decided to migrate my personal blog. Instead of quickly picking an already built theme with a…","html":"<h2>Introduction</h2>\n<p>As my\n<a href=\"https://kalinchernev.github.io/learn-gatsbyjs\">recent evaluations of Gatsby</a>\nwere positive, I decided to migrate my personal blog.</p>\n<p>Instead of quickly picking an already built theme with a lot of code I might not\nuse—which I did during the previous migration from Medium to Hugo—this time, I\ndecided to take a different route—building it from scratch.</p>\n<p>I focused on the process, looking for ways to make site building more generic\nand reusable.</p>\n<ul>\n<li>Content migration</li>\n<li>Programmatic page creation in Gatsby</li>\n<li>Manage styles with\n<a href=\"https://kyleamathews.github.io/typography.js/\"><code class=\"language-text\">Typography.js</code></a></li>\n<li>Automatic pagination</li>\n<li>Tag pages</li>\n<li>Add an admin panel with <a href=\"https://www.netlifycms.org/\">NetlifyCMS</a></li>\n</ul>\n<p>This article will highlight lessons learned from the process, with the aim to\nprovide high-level guidelines about patterns which can be applied in migrations\nfrom other static site generators to Gatsby.</p>\n<h3>Background before you start</h3>\n<p><a href=\"https://gohugo.io/\">Hugo</a> is a super fast, convenient and well-supported tool\nfor working with static sites. I think today it’s still more mature and closer\nto classical CMS comparing to Gatsby workflows.</p>\n<p>As it’s an older ecosystem, when you need a ready plugin or a theme for quick\ngratification, it’s more likely to find something ready online for Hugo.</p>\n<p>Gatsby, on the other hand, is based on React, GraphQL, webpack and its way of\nthinking is closer to how a developer would approach the problems from a\nsingle-page-application point of view.</p>\n<p>Gatsby might feel a bit more “raw”—there are starters and typography.js, but not\nso many ready made solutions in the conventional sense. Probably the closest\nmarketplace for themes compared to others is\n<a href=\"https://gatsbythemes.com/\">gatsbythemes</a> which is a young project.</p>\n<p>If you have landed at this article researching which tool is better for your\njob, take a look at\n<a href=\"https://www.slant.co/versus/1016/18503/~hugo_vs_gatsby-js\">comparisons</a> and\nkeep in mind that selecting a\n<a href=\"https://stackshare.io/stackups/gatsby-vs-hugo\">stack</a> boils down to being\neffective with it.</p>\n<p>For me, using Gatsby is\n<a href=\"https://kalinchernev.github.io/learn-gatsbyjs\">valuable learning experience</a>\nand it has also been so easy to work with, it feels “unfair”. For example, the\nplugin system of Gatsby keeps me sane and productive, even in cases where I know\nonly the briefest overview concepts of webpack. Without Gatsby, I might have\nspent hours and days configuring what Gatsby provides out of the box.</p>\n<p>Last, but not least, the biggest benefit of using Gatsby compared to Hugo, is\nthe JavaScript tool-chain. Important tasks such as making a progressive web app,\nhot module reloading, etc are much easier in comparison to other static site\ngenerators.</p>\n<h3>Content migration</h3>\n<p>This task was easier than expected. The file structure is preserved between my\nprevious blog and the current version. Both Hugo and Gatsby work well when\nmarkdown files are stored at a <code class=\"language-text\">content/post</code> folder.</p>\n<p>The only work I had to do on the content migration was to reformat the\n<a href=\"https://gohugo.io/content-management/front-matter/\">frontmatter</a>. In Hugo, I\nused TOML, whereas <code class=\"language-text\">gatsby-transformer-remark</code> works only with YAML for the\nmoment. Luckily, I still had the Hugo CLI on my system so could make use of its\n<a href=\"https://gohugo.io/commands/hugo_convert_toyaml/\">built-in conversion tool</a>. The\nonly issue I had was that sometimes titles were longer than 1 line and were not\nparse-able, so I just had to cut some words out where problematic.</p>\n<p>My previous frontmatter already contained <code class=\"language-text\">title</code>, <code class=\"language-text\">date</code>, <code class=\"language-text\">tags</code>, and most\nimportantly - the <code class=\"language-text\">slug</code> fields. These were enough for my later work on the\nprogrammatic creation of pages explained in the next section.</p>\n<h3>Programmatic page creation</h3>\n<p>This is the official\n<a href=\"/gatsby-bloga-2/docs/creating-and-modifying-pages/\">documentation</a>,\nplus there is a\n<a href=\"/gatsby-bloga-2/tutorial/part-four/#data-in-gatsby\">tutorial</a>, which\ngives examples. In sum, I created a <code class=\"language-text\">gatsby-node.js</code> file which exports\n<code class=\"language-text\">createPages</code> method using the <code class=\"language-text\">createPage</code> action from\n<a href=\"/gatsby-bloga-2/docs/actions/\"><code class=\"language-text\">boundActionCreators</code></a>.</p>\n<p>This might sound way more complicated than what it is:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allMarkdownRemark {\n        edges {\n          node {\n            frontmatter {\n              title\n              slug\n              tags\n            }\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges\n  <span class=\"token comment\">// Create content programmatically here</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>As you see, getting the list of posts can be done in a single query.</p>\n<p>The result of this query can later be handled by a “creator” function, which I\nprefer to keep in a separate module. For example, creating posts works like\nfollowing:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">path</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">createPage<span class=\"token punctuation\">,</span> nodes</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> template <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/templates/post.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n  nodes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n        component<span class=\"token operator\">:</span> template<span class=\"token punctuation\">,</span>\n        context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          slug<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>I re-use the <code class=\"language-text\">slug</code> field of the frontmatter of my existing structure. I don’t\nhave to generate or calculate slugs based on information of other fields, i.e.\nmy scenario is easier than the tutorial on the official docs.</p>\n<p>This is an example of “unfair” easy - I don’t have to do literally anything to\nkeep my previous URLs of existing content the same in the new system.</p>\n<p>The display of the data is handled by a React component acting as a template. My\ncase is nothing different than the\n<a href=\"/gatsby-bloga-2/docs/building-with-components/#page-template-components\">official documentation</a>.</p>\n<h3>Adding styles</h3>\n<p>Now that the system displays the content, it’s time to style it. I decided to go\nfor the\n<a href=\"/gatsby-bloga-2/tutorial/part-two/#typographyjs\"><code class=\"language-text\">typography.js</code> route</a>.\nThe approach is well documented and you can also see\n<a href=\"https://kyleamathews.github.io/typography.js/\">previews of the themes online</a>.</p>\n<p>Steps were:</p>\n<p>Add <code class=\"language-text\">gatsby-plugin-typography</code> and <code class=\"language-text\">typography-theme-moraga</code> (for example) and\n“enable” the plugin in the <code class=\"language-text\">gatsby-config.js</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-typography</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    pathToConfigModule<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/utils/typography</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>In <code class=\"language-text\">src/utils/typograhy</code> add:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> Typography <span class=\"token keyword\">from</span> <span class=\"token string\">\"typography\"</span>\n<span class=\"token keyword\">import</span> theme <span class=\"token keyword\">from</span> <span class=\"token string\">\"typography-theme-moraga\"</span>\n\ntheme<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">overrideThemeStyles</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Color contrast correction https://dequeuniversity.com/rules/axe/2.2/color-contrast</span>\n    a<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      color<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">#185D8B</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    img<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      position<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">relative</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      left<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">50%</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      transform<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">translateX(-50%)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\ntheme<span class=\"token punctuation\">.</span>baseFontSize <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">22px</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token keyword\">const</span> typography <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Typography</span><span class=\"token punctuation\">(</span>theme<span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> typography</code></pre></div>\n<p>and start the project again to see:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/b1e1d1ce9cb0d7cd907ecdaf0eda91ac/7608e/jJqyQIi.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABjElEQVQ4y5WUi5KCMAxF/f/vlKEFFBQoKNVuTyCl7Dj7yExMSNLbvOopRHq9XuHxeAg/n8+kL8sinOv4cxv0fr+FoRM/ONq2DV3Xhb7vRd7v9zBNk3B3uwXnxuQbxzFcr9cwDMNnQO+93OicEwaE4FsEQnLhPM/hE+VgyJRh0zTCClTXtTC2y+UiFfxEhwzpIQaAyTZneqZ9U7nqe385f8gQI2WSTVVVwVorkgytNcHEb2xlWYaiKEJpyvRNTD4cAeTmYehT2QQbs4LKd5TaCkpHMiBkDnYoGQfTI1Mmis6AkHOs4C/9Sxl6v0gGuiY5M114HJ3EKHMRPc4nnQF6KaEncAvmELuIHV38G6s9H4bSChjLpTwO5vI3yjP71kMvZQGC1FL/S6lkUtdXIkPYQLXcvG/aDiSlu8kdyl/3MAKsq2LWVYm7ZbY9M3HnVMfHOqETX5zPcoYLjoBxLXSh9anBupP42vhngM4i47O2EllVdWrPvtgRcN18k15A0+zvWIFgMsKmf1/6HBXwC1wq23+JrZVUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot of a styled blog post\"\n        title=\"Screenshot of a styled blog post\"\n        src=\"/gatsby-bloga-2/static/b1e1d1ce9cb0d7cd907ecdaf0eda91ac/fcda8/jJqyQIi.png\"\n        srcset=\"/gatsby-bloga-2/static/b1e1d1ce9cb0d7cd907ecdaf0eda91ac/12f09/jJqyQIi.png 148w,\n/gatsby-bloga-2/static/b1e1d1ce9cb0d7cd907ecdaf0eda91ac/e4a3f/jJqyQIi.png 295w,\n/gatsby-bloga-2/static/b1e1d1ce9cb0d7cd907ecdaf0eda91ac/fcda8/jJqyQIi.png 590w,\n/gatsby-bloga-2/static/b1e1d1ce9cb0d7cd907ecdaf0eda91ac/7608e/jJqyQIi.png 735w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>As you can see, with minimal efforts, the styles are basically ready! :)</p>\n<p>I import any theme with <code class=\"language-text\">theme</code> variable since the plugin can change and the\nrest of the code will stay intact.</p>\n<h3>Pagination and tags pages</h3>\n<p>Having a decent grasp of how to create content in my new site, I proceeded with\ncreating pagination. I have about 30 blog posts, so I went for a split by 10 to\ngive an impression I have a lot of content :)</p>\n<p>As usual, a good starting point was searching for example implementations\navailable in\n<a href=\"https://github.com/gatsbyjs/gatsby/tree/master/examples/\"><code class=\"language-text\">examples</code></a> and the\nissue queue. There, in the issue queue, is a gem\n<a href=\"https://github.com/gatsbyjs/gatsby/issues/1199\">epic about plugins wishlist</a>\nwhere I found the discussion leading to\n<a href=\"https://github.com/pixelstew/gatsby-paginate\">gatsby-paginate</a>.</p>\n<p>I wanted to have different contexts than the plugin, so I took inspiration for\nboth tags and pagination scenarios. I kept them as separate action creators and\nI just called them in the main creator function like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> createPostPages <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./gatsby-actions/createPostPages</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> createPaginatedPostsPages <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./gatsby-actions/createPaginatedPostsPages</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> createTagPages <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./gatsby-actions/createTagPages</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n        edges {\n          node {\n            frontmatter {\n              title\n              slug\n              tags\n            }\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span>\n\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges\n  <span class=\"token function\">createPostPages</span><span class=\"token punctuation\">(</span>createPage<span class=\"token punctuation\">,</span> posts<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">createPaginatedPostsPages</span><span class=\"token punctuation\">(</span>createPage<span class=\"token punctuation\">,</span> posts<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">createTagPages</span><span class=\"token punctuation\">(</span>createPage<span class=\"token punctuation\">,</span> posts<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Easy to read, understand and maintain. The pagination module is a bit longer than\nthe one of the posts:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">path</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">createPage<span class=\"token punctuation\">,</span> nodes</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> template <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/templates/postList.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> paginateSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n  <span class=\"token comment\">// Split posts into arrays of length equal to number posts on each page/paginateSize</span>\n  <span class=\"token keyword\">const</span> groupedPages <span class=\"token operator\">=</span> nodes\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> index <span class=\"token operator\">%</span> paginateSize <span class=\"token operator\">===</span> <span class=\"token number\">0</span>\n        <span class=\"token operator\">?</span> nodes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> index <span class=\"token operator\">+</span> paginateSize<span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Create new indexed route for each array</span>\n  groupedPages<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">group<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> groups</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> pageIndex <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> index <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">const</span> paginationRoute <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blog/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pageIndex<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n    <span class=\"token comment\">// Avoid showing `Previous` link on first page - passed to context</span>\n    <span class=\"token keyword\">const</span> first <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token comment\">// Avoid showing `Next` link if this is the last page - passed to context</span>\n    <span class=\"token keyword\">const</span> last <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> groups<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> paginationRoute<span class=\"token punctuation\">,</span>\n      component<span class=\"token operator\">:</span> template<span class=\"token punctuation\">,</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        group<span class=\"token punctuation\">,</span>\n        first<span class=\"token punctuation\">,</span>\n        last<span class=\"token punctuation\">,</span>\n        index<span class=\"token operator\">:</span> index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then, pull context information in the React component:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogPagedIndex</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> pathContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> group<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> first<span class=\"token punctuation\">,</span> last <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pathContext<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      // Some elements\n      ...\n\n      // The posts\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>group<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Post</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">node</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n      // The pager\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>first <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blog/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index <span class=\"token operator\">></span> <span class=\"token number\">2</span> <span class=\"token operator\">?</span> index <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Newer posts</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        )}\n        </span><span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>last <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blog/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Older posts</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  );\n};\n\nexport default BlogPagedIndex;</span></code></pre></div>\n<p>This is a cut-down version of the component only for the blog post, do not copy\nwith too much trust…</p>\n<p>I have to be honest—I haven’t built pagination before with React/Redux, but I\nfeel this pagination approach is easier. Also, I want the pagination pages to be\naccessible at all times, not only on state change, so the content creation\napproach of building the list works well for me.</p>\n<p>I will say again that I see this is “unfair” easy. It’s probably the quickest\nimplementation of pagination I’ve made in my life.</p>\n<p>For the list of tags and inner tags pages, the approach was similar but passing\ndifferent context to the template component:</p>\n<p>For the overview page of tags:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/tags</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  component<span class=\"token operator\">:</span> template<span class=\"token punctuation\">,</span>\n  context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    posts<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>For the inner tag page:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/tags/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span> <span class=\"token function\">slugify</span><span class=\"token punctuation\">(</span>tagName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  component<span class=\"token operator\">:</span> template<span class=\"token punctuation\">,</span>\n  context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    posts<span class=\"token punctuation\">,</span>\n    post<span class=\"token punctuation\">,</span>\n    tag<span class=\"token operator\">:</span> tagName<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Admin panel</h3>\n<p>Initially, I tried to use the <code class=\"language-text\">git-gateway</code> identity management approach in\nNetlify, but it didn’t work for me. I could not reach the point to validate or\nreset the password for my user 1, so I kept the “old-school” way of GitHub\nintegration which works just fine for me at the moment, having the fact I will\nbe 1 user to work on the site.</p>\n<p>Not to mention also that I add this admin panel mostly for demoing the concept\nof JAM stack with admin panel to friends, colleagues and potential clients.</p>\n<p>Long story short, this is the <code class=\"language-text\">config.yml</code> configuration file:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> github\n  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> kalinchernev/kalinchernev.github.io <span class=\"token comment\"># Path to your GitHub repository</span>\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gatsby <span class=\"token comment\"># Branch to update (master by default)</span>\n\n<span class=\"token key atrule\">publish_mode</span><span class=\"token punctuation\">:</span> editorial_workflow\n<span class=\"token key atrule\">media_folder</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"static/images\"</span> <span class=\"token comment\"># Folder where user uploaded files should go</span>\n\n<span class=\"token key atrule\">collections</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># A list of collections the CMS should be able to edit</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"post\"</span> <span class=\"token comment\"># Used in routes, ie.: /admin/collections/:slug/edit</span>\n    <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Post\"</span> <span class=\"token comment\"># Used in the UI, ie.: \"New Post\"</span>\n    <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"content/post\"</span> <span class=\"token comment\"># The path to the folder where the documents are stored</span>\n    <span class=\"token key atrule\">sort</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"date:desc\"</span> <span class=\"token comment\"># Default is title:asc</span>\n    <span class=\"token key atrule\">create</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Allow users to create new documents in this collection</span>\n    <span class=\"token key atrule\">slug</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{slug}}\"</span>\n    <span class=\"token key atrule\">fields</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># The fields each document in this collection have</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Title<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">tagname</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"h1\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Date\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"date\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"datetime\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Slug<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"slug\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"string\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Tags<span class=\"token punctuation\">,</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tags<span class=\"token punctuation\">,</span>\n          <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> list<span class=\"token punctuation\">,</span>\n          <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"APIs\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"JavaScript\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Body\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"body\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"markdown\"</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>The only interesting part is the <code class=\"language-text\">gatsby</code> branch which I used in parallel to the\n<code class=\"language-text\">blog</code> branch. The <code class=\"language-text\">gatsby</code> branch is my development/staging and <code class=\"language-text\">blog</code> is my\nproduction.</p>\n<p>The branch in this configuration has to match to deployment branch of Netlify\nservice:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/078fe/Efubv8f.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz41Sy07EMAzsd3LjD/ggDlz4D5C4gLjABRAIBLvbdvtKN30nTQfbLT1Au8LSKJEdj8d2vLptUVa1oCgrGNvD9sswa5hyOmvhMYkfhNhHMcJ9hGEYwOYIlu52cAI3+Y8Z53p10yBTCpaqiNM5qeoXGruyQFBX2FYFVNvAUaxfgPhFqSgskaQpGiI2xkjAUiCKY6g8l3vXdSMoblbA+SxOWo6JMEoSNDTPn2pchAndpIDB5OYIKcPTpHATBNj4AZTWYxtEyAW+tjv4YSgz5rOqa0litUz+G0JIpf8Ol5dCflaYqXw+uaWuM2iJcMl4cd6jSnF6f4Ozh1uc3F3jKgokqA563vh/TQg/9QEX7y+4/HjF+dsznlQG6hsVqWElRtoZF7X2P+d/Sm++AZzbuwkZk+hwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Deploy Settings\"\n        title=\"Deploy Settings\"\n        src=\"/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/fcda8/Efubv8f.png\"\n        srcset=\"/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/12f09/Efubv8f.png 148w,\n/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/e4a3f/Efubv8f.png 295w,\n/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/fcda8/Efubv8f.png 590w,\n/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/efc66/Efubv8f.png 885w,\n/gatsby-bloga-2/static/3f009da468e786d1ae1dcf536b13ff02/078fe/Efubv8f.png 934w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>This is my admin page React component which is placed in <code class=\"language-text\">src/pages/admin</code> so\nthat Gatsby delivers the HTML page at <code class=\"language-text\">/admin</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Helmet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-helmet\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AdminPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>admin<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Helmet</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charSet</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Content Manager</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n        <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/netlify-cms@^0.5.0/dist/cms.css<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">charSet</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">async</span>\n        <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/netlify-cms@^0.5.0/dist/cms.js<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Helmet</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AdminPage</code></pre></div>\n<p>In order for NetlifyCMS script to find the configuration file correctly,\n<code class=\"language-text\">config.yml</code> should be placed in <code class=\"language-text\">static/admin/config.yml</code>.</p>\n<p>Any other location or file name will result in an error.</p>\n<p>So, here’s how my admin panel looks:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/6edca/lHMSbxx.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABqElEQVQoz2VSWU4CQRScQ7gLYnABlZgQFDUE1wDKFYwmRs+g8UKKRsA/FfzBo/AFI4R1hmFYyq4mPZjQSSXdb6rr1atpLbAdhG8jgINIFKmXV3x8fiKXyyOf/5b4EvtC4Qf3D484PD5F/DyJWOICsfgI8UQSJ2dxXF5d4+b2Dtpu+EASXUtePD2nMBgO0e120ev1YNu2RL/fx2AwkFB11gh15h3L6kILhsKIHp3A7fHiLZ0BV+X3F6ZpSgGuVquFarUqYVmWrDXqddQFDMPAUJhQSwvt7CG8H8GiexmZTFYWy+UyOp2O7E6yrpehiyaVSkXW2UjXdaeBmoBcbd2/hZU1P+ZdHmSy76PujYZ0SDKJdEGoBhTg9/8c1qWgd9UHik7NLiCtRhZOOCbdkMR9s9kUaDlueDZMw3HsCNLdum8TM3OLTobsTDcqeLogGDwvK4ftdls6t+3epOA0HYoMh+JCsVhEqVQSF0aB12o1mRldKUHmzDpBca4JQWbYF84oyBz5HEiiE4rRpcqQguRMZDgWHI/M56DGJtkUWamfwLEpyOy4Z9P/gn89+qIYjAJ25AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Admin panel for Gatsby site\"\n        title=\"Admin panel for Gatsby site\"\n        src=\"/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/fcda8/lHMSbxx.png\"\n        srcset=\"/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/12f09/lHMSbxx.png 148w,\n/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/e4a3f/lHMSbxx.png 295w,\n/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/fcda8/lHMSbxx.png 590w,\n/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/efc66/lHMSbxx.png 885w,\n/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/c83ae/lHMSbxx.png 1180w,\n/gatsby-bloga-2/static/6ad382131dc4f44d6257f24b4c9b272f/6edca/lHMSbxx.png 1351w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Creating a new draft post yields a pull request:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/ea64c/RcynQe3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABaUlEQVQoz11RW27DIBDM/c/TG1Tqd6P+VnGcxLHzMmBey4JxByexkq7GKww7zOyy4pg4RcBRYO9cf/LizMH7wIHZU8jTFNNYyl4QU8mrnHNdtfW2OR7b7nTaVHXTdt35stsfDscWebOtb72IMU4vYa0bx7zKY/782H1/HZSWQgBCqaGXWiArC1zEoK0LISzMNCbPhMUKHxE551+9wS3yUg130Jkx4texk0EVMjOv1+urtM1FdcJ0vT5La3kyPOmQ7xCGbzpon4z1ngi33APKOcbkvIfbYdCDNkBKOJ/+ATGfaugt5BLOUS8kzM9B9r3Ju3OYxhFKMLw3Mhj1bqeNlUoVSCWkgkKCh7lPDMmRx6XYedy1kLFbVVUxjtFapxHGggz9J3m0noyxhJfP073tBxlVeN0yDSKOkQuPsaAQ4iwF5cClHZQsvTzIvz9925yhDEV4vt76fnBCaXqWYtRXHcHdN23TnuACyn/9SXyQwa+V5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Draft post from NetlifyCMS\"\n        title=\"Draft post from NetlifyCMS\"\n        src=\"/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/fcda8/RcynQe3.png\"\n        srcset=\"/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/12f09/RcynQe3.png 148w,\n/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/e4a3f/RcynQe3.png 295w,\n/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/fcda8/RcynQe3.png 590w,\n/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/efc66/RcynQe3.png 885w,\n/gatsby-bloga-2/static/58dde5e2746c80ca596e883a664abe4c/ea64c/RcynQe3.png 1116w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Interesting part is that NetlifyCMS creates the pull request on my behalf with a\ngiven state of the branch. I could continue working on the content of the post\nwhen I’m offline (in an airplane) and push to the branch later when I’m back\nonline to trigger a new\n<a href=\"https://www.netlify.com/blog/2016/07/20/introducing-deploy-previews-in-netlify/\">preview from Netlify</a>.\nOnly when I decide to, I merge latest changes for styles and PWA tweaks back to\nthe post preview branch to see whole picture and approve the post, merging it to\nthe main branch.</p>\n<p>This content workflow fits very well in the model we have as developers and\nprovides granular previews of changes when and how we decide to manage.</p>\n<h3>Conclusions</h3>\n<p>In this blog post I shared how a migration to Gatsby from a static generator\nlike Hugo can work. The reasons for doing a migration like this are part\ndevelopment benefits (it’s a lot easier) and also a better production site which\nfeels as smooth as a single page application.</p>\n<p>We also went through the few technical details necessary to realize the\nmigration, using GraphQL query, creators and templates.</p>\n<p>Lastly, we added an admin panel to make content management easier for our\neditors and clients.</p>\n<p>Enjoy!</p>","frontmatter":{"title":"Migrate from Hugo to Gatsby","date":"November 06, 2017","description":null}}},"pageContext":{"slug":"/docs/blog/2017-11-06-migrate-hugo-gatsby/","previous":{"fields":{"slug":"/docs/blog/2017-10-29-my-search-for-the-perfect-universal-javaScript-framework/"},"frontmatter":{"title":"My search for the perfect universal JavaScript framework"}},"next":{"fields":{"slug":"/docs/blog/2017-11-08-migrate-from-jekyll-to-gatsby/"},"frontmatter":{"title":"Migrate from Jekyll to Gatsby"}}}}}