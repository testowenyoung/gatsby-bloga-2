{"componentChunkName":"component---src-templates-blog-post-js","path":"/docs/blog/2017-07-19-creating-a-blog-with-gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"5a267fb3-15e0-5285-9cca-cd819079461a","excerpt":"Gatsby is an incredible static site generator that allows for React to be used\nas the underlying rendering engine to scaffold out a static site that truly has…","html":"<p>Gatsby is an incredible static site generator that allows for React to be used\nas the underlying rendering engine to scaffold out a static site that truly has\nall the benefits expected in a modern web application. It does this by rendering\ndynamic React components into static HTML content via <a href=\"https://reactjs.org/docs/react-dom-server.html\">server side\nrendering</a> at build time. This means that your users get all\nthe benefits of a static site such as the ability to work without JavaScript,\nsearch engine friendliness, speedy load times, etc. without losing the dynamism\nand interactivity that is expected of the modern web. Once rendered to static\nHTML, client-side React/JavaScript <em>can</em> take over (if creating stateful\ncomponents or logic in <code class=\"language-text\">componentDidMount</code>) and add dynamism to the statically\ngenerated content.</p>\n<p>Gatsby <a href=\"/gatsby-bloga-2/blog/gatsby-v1/\">recently released</a> a v1.0.0 with a bunch of new\nfeatures, including (but not limited to) the ability to create content queries\nwith GraphQL, integration with various CMSs—including WordPress, Contentful,\nDrupal, etc., and route based code splitting to keep the end user experience as\nsnappy as possible. In this post, we’ll take a deep dive into Gatsby and some of\nthese new features by creating a static blog. Let’s get on it!</p>\n<h2>Getting started</h2>\n<h3>Using the CLI</h3>\n<p>Gatsby ships with a great CLI (command line interface) that contains the\nfunctionality of scaffolding out a working site as well as commands to help\ndevelop the site once created.</p>\n<p><code class=\"language-text\">gatsby new personal-blog &amp;&amp; cd $_</code></p>\n<p>This command will create the folder <code class=\"language-text\">personal-blog</code> and then change into that\ndirectory. A working <code class=\"language-text\">gatsby</code> statically generated application can now be\ndeveloped upon. The CLI generates common development scripts to help you get started.\nFor example you can run <code class=\"language-text\">npm run build</code> (build a production, statically generated version of the project) or <code class=\"language-text\">npm run develop</code> (launch a hot-reload enabled web development server),\netc.</p>\n<p>You can now begin the exciting task of <em>actually</em> developing on the site and\ncreating a functional, modern blog. You’ll generally want to use <code class=\"language-text\">npm run develop</code> to launch the local development server to validate functionality as you\nprogress through the steps.</p>\n<h2>Adding necessary plugins</h2>\n<p>Gatsby supports a <a href=\"/gatsby-bloga-2/docs/plugins/\">rich plugin interface</a>, and many incredibly\nuseful plugins have been authored to make accomplishing common tasks a breeze.\nPlugins can be broken up into three main categories: <strong>functional</strong> plugins,\n<strong>source</strong> plugins, and <strong>transformer</strong> plugins.</p>\n<h3>Functional plugins</h3>\n<p>Functional plugins either implement some functionality (e.g. offline support,\ngenerating a sitemap, etc.) <em>or</em> they extend Gatsby’s webpack configuration\nadding support for TypeScript, Sass, etc.</p>\n<p>For this particular blog post, you will make a single page app-like feel (without page\nreloads) as well as the ability to dynamically change the <code class=\"language-text\">title</code> tag within\nthe <code class=\"language-text\">head</code> tags. As noted, the Gatsby plugin ecosystem is rich, vibrant, and\ngrowing, so oftentimes a plugin already exists that solves the particular\nproblem you’re trying to solve. To address the functionality you want for <em>this</em>\nblog, you can use the following plugins:</p>\n<ul>\n<li>\n<p><a href=\"/gatsby-bloga-2/packages/gatsby-plugin-catch-links/\"><code class=\"language-text\">gatsby-plugin-catch-links</code></a></p>\n<ul>\n<li>implements the history <code class=\"language-text\">pushState</code> API and does not require a page reload\non navigating to a different page in the blog</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/gatsby-bloga-2/packages/gatsby-plugin-react-helmet/\"><code class=\"language-text\">gatsby-plugin-react-helmet</code></a></p>\n<ul>\n<li><a href=\"https://github.com/nfl/react-helmet\">react-helmet</a> is a tool that allows for modification of the\n<code class=\"language-text\">head</code> tags; Gatsby statically renders any of these <code class=\"language-text\">head</code> tag changes</li>\n</ul>\n</li>\n</ul>\n<p>with the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gatsby-plugin-catch-links gatsby-plugin-react-helmet</code></pre></div>\n<p>You will be using <a href=\"https://yarnpkg.com/en/\">yarn</a>, but npm can just as easily be used with <code class=\"language-text\">npm i --save [deps]</code>.</p>\n<p>After installing each of these functional plugins, edit\n<code class=\"language-text\">gatsby-config.js</code>, which Gatsby loads at build-time to implement the exposed\nfunctionality of the specified plugins.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=gatsby-config.js\"><pre class=\"language-javascript:title=gatsby-config.js\"><code class=\"language-javascript:title=gatsby-config.js\">module.exports = {\n  siteMetadata: {\n    title: `Your Name - Blog`,\n    author: `Your Name`,\n  },\n  // highlight-start\n  plugins: [&quot;gatsby-plugin-catch-links&quot;, &quot;gatsby-plugin-react-helmet&quot;],\n}\n// highlight-end</code></pre></div>\n<p>Without any additional work besides a <code class=\"language-text\">yarn install</code> and editing a config file,\nyou now have the ability to edit your site’s head tags as well as implement a\nsingle page app feel without reloads. Now, let’s enhance the base functionality\nby implementing a source plugin which can load blog posts from your local file\nsystem.</p>\n<h3>Source plugins</h3>\n<p>Source plugins create <em>nodes</em> which can then be transformed into a usable format\n(if not already usable) by a transformer plugin. For instance, a typical\nworkflow often involves using\n<a href=\"/gatsby-bloga-2/packages/gatsby-source-filesystem/\"><code class=\"language-text\">gatsby-source-filesystem</code></a>, which loads files off of\ndisk—e.g. Markdown files—and then specifying a Markdown transformer to\ntransform the Markdown into HTML.</p>\n<p>Since the bulk of the blog’s content and each article will be authored in\nMarkdown, let’s add that <a href=\"/gatsby-bloga-2/packages/gatsby-source-filesystem/\"><code class=\"language-text\">gatsby-source-filesystem</code></a>\nplugin. Similarly to the previous step, install the plugin and then inject\ninto your <code class=\"language-text\">gatsby-config.js</code>, like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gatsby-source-filesystem</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=gatsby-config.js\"><pre class=\"language-javascript:title=gatsby-config.js\"><code class=\"language-javascript:title=gatsby-config.js\">module.exports = {\n  // previous configuration\n  plugins: [\n    &quot;gatsby-plugin-catch-links&quot;,\n    &quot;gatsby-plugin-react-helmet&quot;,\n    // highlight-start\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        path: `${__dirname}/src/pages`,\n        name: &quot;pages&quot;,\n      },\n    },\n    // highlight-end\n  ],\n}</code></pre></div>\n<p>Some explanation will be helpful here! An <code class=\"language-text\">options</code> object can be passed to a\nplugin, and you’re passing the filesystem <code class=\"language-text\">path</code> (which is where your Markdown files\nwill be located) and then a <code class=\"language-text\">name</code> for the source files. Now that Gatsby knows\nabout your source files, you can begin applying some useful transformers to\nconvert those files into usable data!</p>\n<h3>Transformer plugins</h3>\n<p>As mentioned, a transformer plugin takes some underlying data format that is not\ninherently usable in its current form (e.g. Markdown, json, yaml, etc.) and\ntransforms it into a format that Gatsby can understand and that you can query\nagainst with GraphQL. Jointly, the filesystem source plugin will load file nodes\n(as Markdown) off of your filesystem, and then the Markdown transformer will take\nover and convert to usable HTML.</p>\n<p>You only need one transformer plugin (for Markdown), so let’s get that\ninstalled.</p>\n<ul>\n<li>\n<p><a href=\"/gatsby-bloga-2/packages/gatsby-transformer-remark/\">gatsby-transformer-remark</a></p>\n<ul>\n<li>Uses the <a href=\"https://github.com/wooorm/remark\">remark</a> Markdown parser to transform <code class=\"language-text\">.md</code> files on disk\ninto HTML; additionally, this transformer can optionally take plugins to\nfurther extend functionality—e.g. add syntax highlighting with\n<code class=\"language-text\">gatsby-remark-prismjs</code>, <code class=\"language-text\">gatsby-remark-copy-linked-files</code> to copy relative\nfiles specified in markdown, <code class=\"language-text\">gatsby-remark-images</code> to compress images and\nadd responsive images with <code class=\"language-text\">srcset</code>, etc.</li>\n</ul>\n</li>\n</ul>\n<p>The process should be familiar by now, install and then add to config.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gatsby-transformer-remark</code></pre></div>\n<p>and editing <code class=\"language-text\">gatsby-config.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=gatsby-config.js\"><pre class=\"language-javascript:title=gatsby-config.js\"><code class=\"language-javascript:title=gatsby-config.js\">module.exports = {\n  // previous setup\n  plugins: [\n    &quot;gatsby-plugin-catch-links&quot;,\n    &quot;gatsby-plugin-react-helmet&quot;,\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        path: `${__dirname}/src/pages`,\n        name: &quot;pages&quot;,\n      },\n    },\n    // highlight-start\n    {\n      resolve: &quot;gatsby-transformer-remark&quot;,\n      options: {\n        plugins: [], // just in case those previously mentioned remark plugins sound cool :)\n      },\n    },\n    // highlight-end\n  ],\n}</code></pre></div>\n<p>Whew! Seems like a lot of set up, but collectively these plugins are going to\nsuper charge Gatsby and give us an incredibly powerful (yet relatively simple!)\ndevelopment environment. There is one more setup step and it’s an easy one.\nYou’re simply going to create a Markdown file that will contain the content of\nyour first blog post. Let’s get to it.</p>\n<h2>Writing your first Markdown blog post</h2>\n<p>The <code class=\"language-text\">gatsby-source-filesystem</code> plugin you configured earlier expects your content\nto be in <code class=\"language-text\">src/pages</code>, so that’s exactly where it needs to be put in!</p>\n<p>Gatsby is not at all prescriptive in naming conventions, but a typical practice\nfor blog posts is to name the folder something like <code class=\"language-text\">MM-DD-YYYY-title</code>, e.g.\n<code class=\"language-text\">07-12-2017-hello-world</code>. Let’s do just that. Create the folder\n<code class=\"language-text\">src/pages/07-12-2017-getting-started</code> and place an <code class=\"language-text\">index.md</code> inside!</p>\n<p>The content of this Markdown file will be your blog post, authored in Markdown\n(of course!). Here’s what it’ll look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown:title=src/pages/07-12-2017-getting-started/index.md\"><pre class=\"language-markdown:title=src/pages/07-12-2017-getting-started/index.md\"><code class=\"language-markdown:title=src/pages/07-12-2017-getting-started/index.md\">---\npath: &quot;/hello-world&quot;\ndate: 2017-07-12T17:12:33.962Z\ntitle: &quot;My First Gatsby Post&quot;\n---\n\nOooooh-weeee, my first blog post!</code></pre></div>\n<p><em>Fairly</em> typical stuff, except for the block surrounded in dashes. What is that?\nThat is what is referred to as <a href=\"https://jekyllrb.com/docs/frontmatter/\"><code class=\"language-text\">frontmatter</code></a>, and the contents of\nthe block can be used to inject React components with the specified data, e.g.\npath, date, title, etc. Any piece of data can be injected here (e.g. tags,\nsub-title, draft, etc.), so feel free to experiment and find what necessary\npieces of frontmatter are required to achieve an ideal blogging system for your\nusage. One important note is that <code class=\"language-text\">path</code> will be used when you dynamically create\nyour pages to specify the URL/path to render the file (in a later step!). In this\ninstance, <code class=\"language-text\">http://localhost:8000/hello-world</code> will be the path to this file.</p>\n<p>Now that you have created a blog post with frontmatter and some content, you can\nbegin actually writing some React components that will display this data!</p>\n<h2>Creating the (React) template</h2>\n<p>As Gatsby supports server side rendering (to string) of React components, you can\nwrite your template in… you guessed it, React! (Or\n<a href=\"/gatsby-bloga-2/packages/gatsby-plugin-preact/\">Preact</a>, if that’s more your style)</p>\n<p>You should create the file <code class=\"language-text\">src/templates/blog-post.js</code> (please create the\n<code class=\"language-text\">src/templates</code> folder if it does not yet exist!).</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=src/templates/blog-post.js\"><pre class=\"language-javascript:title=src/templates/blog-post.js\"><code class=\"language-javascript:title=src/templates/blog-post.js\">import React from &quot;react&quot;\nimport { Helmet } from &quot;react-helmet&quot;\n\n// import &#39;../css/blog-post.css&#39;; // make it pretty!\n\nexport default function Template({\n  data, // this prop will be injected by the GraphQL query we&#39;ll write in a bit\n}) {\n  const { markdownRemark: post } = data // data.markdownRemark holds your post data\n  return (\n    &lt;div className=&quot;blog-post-container&quot;&gt;\n      &lt;Helmet title={`Your Blog Name - ${post.frontmatter.title}`} /&gt;\n      &lt;div className=&quot;blog-post&quot;&gt;\n        &lt;h1&gt;{post.frontmatter.title}&lt;/h1&gt;\n        &lt;div\n          className=&quot;blog-post-content&quot;\n          dangerouslySetInnerHTML={{ __html: post.html }}\n        /&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  )\n}</code></pre></div>\n<p>Whoa, neat! This React component will be rendered to a static HTML string (for\neach route/blog post you define), which will serve as the basis of your\nrouting/navigation for your blog.</p>\n<p>At this point, there is a reasonable level of confusion and “magic” occurring,\nparticularly with the props injection. What is <code class=\"language-text\">markdownRemark</code>? Where is this\n<code class=\"language-text\">data</code> prop injected from? All good questions, so let’s answer them by writing a\nGraphQL query to seed your <code class=\"language-text\">&lt;Template /&gt;</code> component with content!</p>\n<h3>Writing the GraphQL query</h3>\n<p>Below the <code class=\"language-text\">Template</code> declaration, you’ll want to add a GraphQL query. This is an\nincredibly powerful utility provided by Gatsby which lets us pick and choose\nvery simply the pieces of data that you want to display for your blog post. Each\npiece of data your query selects will be injected via the <code class=\"language-text\">data</code> property that you\nspecified earlier.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=src/templates/blog-post.js\"><pre class=\"language-javascript:title=src/templates/blog-post.js\"><code class=\"language-javascript:title=src/templates/blog-post.js\">import React from &quot;react&quot;\nimport { Helmet } from &quot;react-helmet&quot;\nimport { graphql } from &quot;gatsby&quot;\n\n// import &#39;../css/blog-post.css&#39;;\n\nexport default function Template({ data }) {\n  const { markdownRemark: post } = data\n  return (\n    &lt;div className=&quot;blog-post-container&quot;&gt;\n      &lt;Helmet title={`Your Blog Name - ${post.frontmatter.title}`} /&gt;\n      &lt;div className=&quot;blog-post&quot;&gt;\n        &lt;h1&gt;{post.frontmatter.title}&lt;/h1&gt;\n        &lt;div\n          className=&quot;blog-post-content&quot;\n          dangerouslySetInnerHTML={{ __html: post.html }}\n        /&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\n\n// highlight-start\nexport const pageQuery = graphql`\n  query BlogPostByPath($path: String!) {\n    markdownRemark(frontmatter: { path: { eq: $path } }) {\n      html\n      frontmatter {\n        date(formatString: &quot;MMMM DD, YYYY&quot;)\n        path\n        title\n      }\n    }\n  }\n`\n// highlight-end</code></pre></div>\n<p>If you’re not familiar with GraphQL, this may seem slightly confusing, but you can\nbreak down what’s going down here piece by piece.</p>\n<p><em>Note: To learn more about GraphQL, consider this <a href=\"https://www.howtographql.com\">excellent\nresource</a></em></p>\n<p>The underlying query name <code class=\"language-text\">BlogPostByPath</code> (note: these query names need to be\nunique!) will be injected with the current path, e.g. the specific blog post we\nare viewing. This path will be available as <code class=\"language-text\">$path</code> in your query. For instance,\nif you were viewing your previously created blog post, the path of the file that\ndata will be pulled from will be <code class=\"language-text\">/hello-world</code>.</p>\n<p><code class=\"language-text\">markdownRemark</code> will be the injected property available via the prop <code class=\"language-text\">data</code>, as\nnamed in the GraphQL query. Each property you pull via the GraphQL query will be\navailable under this <code class=\"language-text\">markdownRemark</code> property. For example, to access the\ntransformed HTML, you would access the <code class=\"language-text\">data</code> prop via <code class=\"language-text\">data.markdownRemark.html</code>.</p>\n<p><code class=\"language-text\">frontmatter</code>, is of course the data structure we provided at the beginning of\nthe Markdown file. Each key you define there will be available to be injected\ninto the query.</p>\n<p>At this point, you have a bunch of plugins installed to load files off of disk,\ntransform Markdown to HTML, and other utilities. You have a single, lonely\nMarkdown file that will be rendered as a blog post. Finally, you have a React\ntemplate for blog posts as well as a wired up GraphQL query to query for a blog\npost and inject the React template with the queried data. Next up:\nprogrammatically creating the necessary static pages (and injecting the\ntemplates) with Gatsby’s Node API. Let’s get down to it.</p>\n<p>An important note to make at this point is that the GraphQL query takes place at\n<strong>build</strong> time. The component is injected with the <code class=\"language-text\">data</code> prop that is seeded by\nthe GraphQL query. Unless anything dynamic (e.g. logic in <code class=\"language-text\">componentDidMount</code>,\nstate changes, etc.) occurs, this component will be pure, rendered HTML\ngenerated via the React rendering engine, GraphQL, and Gatsby!</p>\n<h2>Creating the static pages</h2>\n<p>Gatsby exposes a powerful Node API, which allows for functionality such as\ncreating dynamic pages (blog posts!), extending the babel or webpack configs,\nmodifying the created nodes or pages, etc. This API is exposed in the\n<code class=\"language-text\">gatsby-node.js</code> file in the root directory of your project—e.g. at the same\nlevel as <code class=\"language-text\">gatsby-config.js</code>. Each export found in this file will be parsed by\nGatsby, as detailed in its <a href=\"/gatsby-bloga-2/docs/node-apis/\">Node API specification</a>. However, you only need to\ncare about one particular API in this instance, <code class=\"language-text\">createPages</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=gatsby-node.js\"><pre class=\"language-javascript:title=gatsby-node.js\"><code class=\"language-javascript:title=gatsby-node.js\">const path = require(&quot;path&quot;)\n\nexports.createPages = async ({ actions, graphql }) =&gt; {\n  const { createPage } = actions\n\n  const blogPostTemplate = path.resolve(`src/templates/blog-post.js`)\n}</code></pre></div>\n<p>Nothing super complex yet! You’re using the <code class=\"language-text\">createPages</code> API (which Gatsby will\ncall at build time with injected parameters). You’re also grabbing the <em>path</em> to\nyour blogPostTemplate that you created earlier. Finally, you’re using the <code class=\"language-text\">createPage</code>\naction creator/function made available in actions. Gatsby uses Redux\ninternally to manage its state, and <code class=\"language-text\">actions</code> are simply the exposed\naction creators of Gatsby, of which <code class=\"language-text\">createPage</code> is one of the action creators!\nFor the full list of exposed action creators, check out <a href=\"/gatsby-bloga-2/docs/actions/\">Gatsby’s\ndocumentation</a>. You can now construct the GraphQL\nquery, which will fetch all of your Markdown posts.</p>\n<h3>Querying for posts</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=gatsby-node.js\"><pre class=\"language-javascript:title=gatsby-node.js\"><code class=\"language-javascript:title=gatsby-node.js\">const path = require(&quot;path&quot;)\n\nexports.createPages = async ({ actions, graphql, reporter }) =&gt; {\n  const { createPage } = actions\n\n  const blogPostTemplate = path.resolve(`src/templates/blog-post.js`)\n\n  // highlight-start\n  const result = await graphql(`\n    {\n      allMarkdownRemark(\n        sort: { order: DESC, fields: [frontmatter___date] }\n        limit: 1000\n      ) {\n        edges {\n          node {\n            frontmatter {\n              path\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  if (result.errors) {\n    reporter.panicOnBuild(`Error while running GraphQL query.`)\n    return\n  }\n}\n// highlight-end</code></pre></div>\n<p>You’re using GraphQL to get all Markdown nodes and making them available under\nthe <code class=\"language-text\">allMarkdownRemark</code> GraphQL property. Each exposed property (on <code class=\"language-text\">node</code>) is\nmade available for querying against. You’re effectively seeding a GraphQL\n“database” that you can then query against via page-level GraphQL queries. One\nnote here is that the <code class=\"language-text\">exports.createPages</code> API expects a Promise to be\nreturned, so it works seamlessly with the <code class=\"language-text\">graphql</code> function, which returns a\nPromise (although note a callback API is also available if that’s more your\nthing).</p>\n<p>One cool note here is that the <code class=\"language-text\">gatsby-plugin-remark</code> plugin exposes some useful\ndata for us to query with GraphQL, e.g. <code class=\"language-text\">excerpt</code> (a short snippet to display as\na preview), <code class=\"language-text\">id</code> (a unique identifier for each post), etc.</p>\n<p>You now have your query written, but are yet programmatically created the\npages (with the <code class=\"language-text\">createPage</code> action creator). Let’s do that!</p>\n<h3>Creating the pages</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=gatsby-node.js\"><pre class=\"language-javascript:title=gatsby-node.js\"><code class=\"language-javascript:title=gatsby-node.js\">const path = require(&quot;path&quot;)\n\nexports.createPages = async ({ actions, graphql, reporter }) =&gt; {\n  const { createPage } = actions\n\n  const blogPostTemplate = path.resolve(`src/templates/blog-post.js`)\n\n  const result = await graphql(`\n    {\n      allMarkdownRemark(\n        sort: { order: DESC, fields: [frontmatter___date] }\n        limit: 1000\n      ) {\n        edges {\n          node {\n            frontmatter {\n              path\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  if (result.errors) {\n    reporter.panicOnBuild(`Error while running GraphQL query.`)\n    return\n  }\n\n  // highlight-start\n  result.data.allMarkdownRemark.edges.forEach(({ node }) =&gt; {\n    createPage({\n      path: node.frontmatter.path,\n      component: blogPostTemplate,\n      context: {}, // additional data can be passed via context\n    })\n  })\n  // highlight-end\n}</code></pre></div>\n<p>You’ve now tied into the Promise chain exposed by the <code class=\"language-text\">graphql</code> query. The actual\nposts are available via the path <code class=\"language-text\">result.data.allMarkdownRemark.edges</code>. Each\nedge contains an internal node, and this node holds the useful data that you will\nuse to construct a page with Gatsby. Your GraphQL “shape” is directly reflected\nin this data object, so each property you pulled from that query will be\navailable when you are querying in your GraphQL blog post template.</p>\n<p>The <code class=\"language-text\">createPage</code> API accepts an object which requires <code class=\"language-text\">path</code> and <code class=\"language-text\">component</code>\nproperties to be defined, which you have done above. Additionally, an optional\nproperty <code class=\"language-text\">context</code> can be used to inject data and make it available to the blog\npost template component via injected props (log out props to see each available\nprop!). Each time you build with Gatsby, <code class=\"language-text\">createPage</code> will be called, and Gatsby\nwill create a static HTML file of the path you specified in the post’s\nfrontmatter—the result of which will be your stringified and parsed React\ntemplate injected with the data from your GraphQL query. Whoa, it’s actually\nstarting to come together!</p>\n<p>You can run <code class=\"language-text\">yarn develop</code> at this point and then navigate to\n<code class=\"language-text\">http://localhost:8000/hello-world</code> to see your first blog post, which should\nlook something like below:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/2bf90/my-first-blog-post.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVQ4y7WSXUvbYBTH40SQqikyp2B13u6zCLu3Mu/2AbwXI36CsU292NVermonejE7LOIbFqUqbbQ2TUKqlZbiNvBC07w9OceTTEGhtdaXP/w4ecI5vwN5winq+phayk4c5PYE5TgjFP/khZNTTSj9OxJKf+/FOM1MSpo42vXqZTO3tZjBvWUNt2M53I1rmF4tEMcorhVQpGev7q+dVEUkvF5ps4xLkS2T7wh2cEOhj8bIwLQzPhi1Jt7+tN+/+WK/65+2R17P+Az3fbbDvZ/scKgm1nBoCodCH4otTa08tzF3yBLzMi5HUrASTcPSj12IfUvC7+87EPuahPVoBhILMiTmc7Vwk7+OcHX2oNwWaOc5RGQESkoG1HwOZS2LWWUf1byEWkFBFy2sE/eqloPBIM9ZpsUAEPULHSoVAyu6gRfnOroM/C6gdua4d+ELaa7MUzjHcdjVBri5FmiLS71evT5XC733haZp3hbC/+BNrkW1ZHWF+IA8v9CmeDL6XnQ50DA053hCwzBKvhCfKIyxM/+3kWV5R1EUkUgR6Uah+ZSqqoeSJMUDgUA7R+kieojuR+DNdxIvLgHJLXzzjVMp9wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"My first blog post with Gatsby\"\n        title=\"My first blog post with Gatsby\"\n        src=\"/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/fcda8/my-first-blog-post.png\"\n        srcset=\"/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/12f09/my-first-blog-post.png 148w,\n/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/e4a3f/my-first-blog-post.png 295w,\n/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/fcda8/my-first-blog-post.png 590w,\n/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/efc66/my-first-blog-post.png 885w,\n/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/c83ae/my-first-blog-post.png 1180w,\n/gatsby-bloga-2/static/deb7f0d56ec7013985a6053e9c88601d/2bf90/my-first-blog-post.png 2592w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>At this point, you’ve created a single static blog post as an HTML file, which\nwas created by a React component and several GraphQL queries. However, this\nisn’t a blog! You can’t expect your users to guess the path of each post, you need\nto have an index or listing page, where you display each blog post, a short\nsnippet, and a link to the full blog post. Wouldn’t you know it, this can be done\nincredibly easily with Gatsby, using a similar strategy that was used in the blog\ntemplate, i.e. a React component and a GraphQL query.</p>\n<h2>Creating the Blog Listing</h2>\n<p>I won’t go into quite as much detail for this section because we’ve already\ndone something very similar for our blog template! Look at us, we’re pro\nGatsby-ers at this point!</p>\n<p>Gatsby has a standard for “listing pages,” and they’re placed in the root of our\nfilesystem we specified in <code class=\"language-text\">gatsby-source-filesystem</code>, e.g.\n<code class=\"language-text\">src/pages/index.js</code>. So, create that file if it does not exist, and let’s get it\nworking! Additionally, note that any static JavaScript files (that export a React\ncomponent!) will get a corresponding static HTML file. For instance, if we\ncreate <code class=\"language-text\">src/pages/tags.js</code>, the path <code class=\"language-text\">http://localhost:8000/tags/</code> will be\navailable within the browser and the statically generated site.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript:title=src/pages/index.js\"><pre class=\"language-javascript:title=src/pages/index.js\"><code class=\"language-javascript:title=src/pages/index.js\">import React from &quot;react&quot;\nimport { Link, graphql } from &quot;gatsby&quot;\nimport { Helmet } from &quot;react-helmet&quot;\n\n// import &#39;../css/index.css&#39;; // add some style if you want!\n\nexport default function Index({ data }) {\n  const { edges: posts } = data.allMarkdownRemark\n  return (\n    &lt;div className=&quot;blog-posts&quot;&gt;\n      {posts\n        .filter(post =&gt; post.node.frontmatter.title.length &gt; 0)\n        .map(({ node: post }) =&gt; {\n          return (\n            &lt;div className=&quot;blog-post-preview&quot; key={post.id}&gt;\n              &lt;h1&gt;\n                &lt;Link to={post.frontmatter.path}&gt;{post.frontmatter.title}&lt;/Link&gt;\n              &lt;/h1&gt;\n              &lt;h2&gt;{post.frontmatter.date}&lt;/h2&gt;\n              &lt;p&gt;{post.excerpt}&lt;/p&gt;\n            &lt;/div&gt;\n          )\n        })}\n    &lt;/div&gt;\n  )\n}\n\nexport const pageQuery = graphql`\n  query IndexQuery {\n    allMarkdownRemark(sort: { order: DESC, fields: [frontmatter___date] }) {\n      edges {\n        node {\n          excerpt(pruneLength: 250)\n          id\n          frontmatter {\n            title\n            date(formatString: &quot;MMMM DD, YYYY&quot;)\n            path\n          }\n        }\n      }\n    }\n  }\n`</code></pre></div>\n<p>OK! So we’ve followed a similar approach to your blog post template, so this\nshould hopefully seem pretty familiar. Once more we’re exporting <code class=\"language-text\">pageQuery</code>\nwhich contains a GraphQL query. Note that we’re pulling a slightly different\ndata set — specifically, we are pulling an <code class=\"language-text\">excerpt</code> of 250 characters rather than\nthe full HTML as we are formatting the pulled date with a format\nstring! GraphQL is awesome.</p>\n<p>The actual React component is fairly trivial, but one important note should be\nmade. It’s important that when linking to internal content, e.g. other blog\nlinks, that you should always use <code class=\"language-text\">Link</code> from <code class=\"language-text\">gatsby</code>. Gatsby does not work if pages\nare not routed via this utility. Additionally, this utility also works with\n<code class=\"language-text\">pathPrefix</code>, which allows for a Gatsby site to be deployed on a non-root domain.\nThis is useful if this blog will be hosted on something like GitHub Pages or\nperhaps hosted at <code class=\"language-text\">/blog</code>.</p>\n<p>Now, this is getting exciting and it feels like we’re finally getting somewhere!\nAt this point, we have a fully functional blog generated by Gatsby, with real\ncontent authored in Markdown, a blog listing, and the ability to navigate around\nin the blog. If you run <code class=\"language-text\">yarn develop</code>, <code class=\"language-text\">http://localhost:8000</code> should display a\npreview of each blog post, and each post title links to the content of the blog\npost. A real blog!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/2bf90/blog-listing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwklEQVQ4y62STUsbURSGxxahpDpB1HYR0aX/pfQHqLWb/gL36pT+goJaulZBiCK6sAurNBISBS1NJjGdzIyTLxMHrRJoRufrzjmeGV1oq2ls+8LDe5l7zsNdDCcrW+PK4f7b9PddoVDNC2eGLpR1VaidloTaj2IrTFZPCu8kTRzr6e1+zG2vZfHrxgHufMpj+ksZc4kj6hKKWxUUY+WgM/fg36VjJZQSOq5Hdyy+M9zJDUWmzNcDH9yJF1F78mXUeTP40Rnpm3ZG+2ecV4R/Ho5MNcMeiczgUOR9tb3tCc/Fl3MsuSJjfFGCxHIeYgs52JgVYXM+A5tzGYgvSZBclSG5kr8Pb3etiLHFrP401MFziMgIVL5VQU3V/MZi5hjL+ydYzB4jeIB/iHfdejgc5jnbcphHS5qmgaYVsFKpoG3byNjVnEfN3KYEgxfnps5TONd1gxc2fjbAMAw0GgbW6/VA6gcAbvWvoe+B0LKs20L/7o7hO88tCeEqeJNmopaE+Bf5TehQfJnneYzqwdCe6wtN06wFQvxPYYzVg99GluU9RVFEIkWkHwrtp1RVzUmS9DkUCnVwlB7iOfHsH/D3u4hHlzt7fCu6aFqPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Blog listing\"\n        title=\"Blog listing\"\n        src=\"/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/fcda8/blog-listing.png\"\n        srcset=\"/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/12f09/blog-listing.png 148w,\n/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/e4a3f/blog-listing.png 295w,\n/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/fcda8/blog-listing.png 590w,\n/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/efc66/blog-listing.png 885w,\n/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/c83ae/blog-listing.png 1180w,\n/gatsby-bloga-2/static/2a8d86802d4b0d0a8d662e1281b0f522/2bf90/blog-listing.png 2592w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>It’s now on you to make something incredible with the knowledge you’ve gained in\nfollowing along with this tutorial! You can not only make it pretty and style\nwith CSS (or <a href=\"https://github.com/styled-components/styled-components\">styled-components</a>!), but you could improve it\nfunctionally by implementing some of the following:</p>\n<ul>\n<li>\n<p>Add a tag listing and tag search page</p>\n<ul>\n<li>hint: the <code class=\"language-text\">createPages</code> API in <code class=\"language-text\">gatsby-node.js</code> file is useful here, as is\nfrontmatter</li>\n</ul>\n</li>\n<li>adding navigation between a specific blog post and past/present blog posts\n(the <code class=\"language-text\">context</code> API of <code class=\"language-text\">createPages</code> is useful here), etc.</li>\n</ul>\n<p>With your new found knowledge of Gatsby and its API, you should feel empowered to\nbegin to utilize Gatsby to its fullest potential. A blog is just the starting\npoint; Gatsby’s rich ecosystem, extensible API, and advanced querying\ncapabilities provide a powerful toolset for building truly incredible,\nperformant sites.</p>\n<p>Now go build something great.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/1eb72aab7f753fd71411e0b504f13608/2fa75/dream-bigger.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcchCo4f/8QAGxAAAQQDAAAAAAAAAAAAAAAAAwABAhEhMkH/2gAIAQEAAQUCaVqNWTJB79X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAEBAAMBAAAAAAAAAAAAAAABABAhMUH/2gAIAQEABj8CfXhblIz/AP/EABoQAQACAwEAAAAAAAAAAAAAAAEAERAhQTH/2gAIAQEAAT8hJUFTRGL8cYappcQ8Rn//2gAMAwEAAgADAAAAEPMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhAAAgIBBQEAAAAAAAAAAAAAAREAIaExQWFxsYH/2gAIAQEAAT8QFIqjFUke6l8XoIUS+IQTXgqmcfDMybfvpn//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dream Bigger\"\n        title=\"Dream Bigger\"\n        src=\"/gatsby-bloga-2/static/1eb72aab7f753fd71411e0b504f13608/1c72d/dream-bigger.jpg\"\n        srcset=\"/gatsby-bloga-2/static/1eb72aab7f753fd71411e0b504f13608/a80bd/dream-bigger.jpg 148w,\n/gatsby-bloga-2/static/1eb72aab7f753fd71411e0b504f13608/1c91a/dream-bigger.jpg 295w,\n/gatsby-bloga-2/static/1eb72aab7f753fd71411e0b504f13608/1c72d/dream-bigger.jpg 590w,\n/gatsby-bloga-2/static/1eb72aab7f753fd71411e0b504f13608/2fa75/dream-bigger.jpg 721w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Links</h2>\n<ul>\n<li>\n<p><a href=\"https://github.com/dschau/gatsby-blog-starter-kit\"><code class=\"language-text\">@dschau/gatsby-blog-starter-kit</code></a></p>\n<ul>\n<li>A working repo demonstrating all of the aforementioned functionality of\nGatsby</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://github.com/DSchau/create-gatsby-blog-post\"><code class=\"language-text\">@dschau/create-gatsby-blog-post</code></a></p>\n<ul>\n<li>A utility and CLI I created to scaffold out a blog post following the\npredefined Gatsby structure with frontmatter, date, path, etc.</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://github.com/dschau/blog\">Source code for my blog</a></p>\n<ul>\n<li>The source code for my blog, which takes the gatsby-starter-blog-post\n(previous link), and expands upon it with a bunch of features and some more\nadvanced functionality</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Creating a Blog with Gatsby","date":"July 19, 2017","description":null}}},"pageContext":{"slug":"/docs/blog/2017-07-19-creating-a-blog-with-gatsby/","previous":{"fields":{"slug":"/docs/blog/gatsby-v1/"},"frontmatter":{"title":"Announcing Gatsby 1.0.0 🎉🎉🎉"}},"next":{"fields":{"slug":"/docs/blog/2017-09-13-why-is-gatsby-so-fast/"},"frontmatter":{"title":"Web Performance 101—also, why is Gatsby so fast?"}}}}}