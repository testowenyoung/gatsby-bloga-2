{"componentChunkName":"component---src-templates-blog-post-js","path":"/docs/blog/2017-12-07-taking-gatsby-for-a-spin/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"35993b28-4d6f-5828-8fd5-14fb7f6a5d6b","excerpt":"A static site generator based on React, does that even make sense? GatsbyJS tries to answer this question with a hypermodern, feature-packed, jamstacked…","html":"<p>A static site generator based on React, does that even make sense? <a href=\"/gatsby-bloga-2/\">GatsbyJS</a> tries to answer this question with a hypermodern, feature-packed, <em>jamstacked</em> development tool that you can try out right now! In this post I’ll give you a quick introduction and an overview of my own thoughts on Gatsby.</p>\n<h2>Introducing: Gatsby</h2>\n<p>Ever since I started following the <a href=\"https://twitter.com/gatsbyjs\">Gatsby Twitter account</a>, I’ve wanted in on the action. It’s not that I really <em>need</em> a new tool to create static sites, it’s just that every developer tweeting about Gatsby seems to think it’s the most exciting thing on the web since they learned they could combine the <code class=\"language-text\">marquee</code> and <code class=\"language-text\">blink</code> tag. Call it FOMO. Also, the sites that these developers have been showcasing were all so fast and snappy, I had to see what the buzz was about.</p>\n<p>Let’s jump in. Here are some of the important features of Gatsby:</p>\n<h3>React</h3>\n<p>GatsbyJS is based on React which means that you’ll be writing almost everything in JavaScript / JSX. That doesn’t mean though you need loads of React experience to start out with Gatsby The <a href=\"/gatsby-bloga-2/tutorial/\">tutorials</a> are a great resource and will teach you some React along the way. If you already like React, you’ll most definitely enjoy creating static sites with Gatsby. As your final JavaScript bundle includes the React library, you can include React components as if it was a regular React app.</p>\n<h3>GraphQL</h3>\n<p>Gatsby was my first introduction to <a href=\"https://graphql.org/learn/\">GraphQL</a> and I’m loving it already. GraphQL is a query language used by Gatsby to let you connect to all kinds of APIs. With it as an abstraction layer, you can pull in all the data you can think of and utilize it in your app. Gatsby comes with plugins to pull in data from several APIs, CMS systems and local files. With GraphQL, you’re able to query data from all these sources in a clear and readable way. The data is instantly available in your components and that’s just super cool. Also, it comes with a browser-based IDE called Graph<em>i</em>QL which starts along with your development environment. You can use it to see which queries are available, test them out, and see what data these queries return.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/97a96/grahiql_screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.10810810810811%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABZUlEQVQoz42Ti26DMAxF+f/f28badVu1rUApj7yA8ip3joFC0Cot0pXjiBx8bfCiKEKaZsizHHkuoJWGsdIammSMYQkpkQkJoRWk0Yv0ss/pGa9pGjqsUZYN7Lq1PYa643jrb5hXITTCYwxxymDCnKUDipGAsTEUKC4KXl1fcW06XBKDmqB93WIYhjto3hexhHwJIP0A4vk07l9DlniifB9BHS/wqqriC8ZckSQFV2UhazGQKmHQBGHtojH6y5lXluV0cbE3leYCzxYYjJAZNOcrOFmu79buAI5wgWSZra0ro6jezlCHmOwmUB9kues6B7iFO0B/qsjf2N1NOfXRa9vWaf52IG4PVxb30WLfyg7pL6Dbxg1wnuZ7vEBWA7L2HeAjrafMsKlSdTizLNi+jIF93+M/q9Il9HcKQx+voX7yB02T55ykv1Lonwye/a2KooCd9kO1DV2S4ySpQhZNVH2uNJ3/AnUllyolDal/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot of GraphiQL\"\n        title=\"GraphiQL\"\n        src=\"/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/fcda8/grahiql_screenshot.png\"\n        srcset=\"/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/12f09/grahiql_screenshot.png 148w,\n/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/e4a3f/grahiql_screenshot.png 295w,\n/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/fcda8/grahiql_screenshot.png 590w,\n/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/efc66/grahiql_screenshot.png 885w,\n/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/c83ae/grahiql_screenshot.png 1180w,\n/gatsby-bloga-2/static/abfeab828881161edbc6200c887d339b/97a96/grahiql_screenshot.png 2400w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Progressive Web App and PRPL Pattern (Blazing fast)</h3>\n<p>With an eye on the future, Gatsby already implements lots of Googles so called ’<strong>P</strong>ush, <strong>R</strong>ender <strong>P</strong>re-Cache and <strong>L</strong>azy-load pattern (PRPL, I’m not sure if that acronym will catch on). Gatsby takes care of the pre-loading and code-splitting, which makes browsing around Gatsby sites an insanely fast experience. PRPL + the gatsby offline plugin mean that your site will be considered a PWA, will load insanely fast on any device and scores great in Google lighthouse. Read more on <a href=\"/gatsby-bloga-2/docs/prpl-pattern/\">PRPL</a>.</p>\n<h3>webpack and Plugins</h3>\n<p>Can you say React without webpack? I can hardly say <code class=\"language-text\">hello world</code> without webpack anymore, although I’m still not sure how to configure it right on the first go. Gatsby comes with an extensive webpack configuration and you don’t really need to touch if you don’t want to. If you do, you can modify and add to the default configuration with a plugin or in the <code class=\"language-text\">gatsby-node</code> file. There’s already a great range of plugins so most likely any webpack tweak is a plugin install away. With all the plenty of good examples, it’s often straightforward to write your own plugin too.</p>\n<h3>Community</h3>\n<p>Even though Gatsby is pretty new, the developers using it seem really involved. There are quite a few <a href=\"/gatsby-bloga-2/blog/\">articles on the Gatsby blog</a>. People seem to be happy to answer your Gatsby questions on Twitter and on GitHub you can ask anything without being shot down. Everyone is encouraged to contribute in form of plugins and pull requests, which gives me confidence that we’ll see a lot of additions and improvements in the future.</p>\n<h2>Some thoughts on Gatsby</h2>\n<p>It’s telling that <a href=\"https://github.com/gatsbyjs/gatsby#showcase\">most of the websites that are made with Gatsby</a> are developer portfolios and documentation websites. It shows that Gatsby is still a bit in its early-adopters phase. But seeing what kind of sites are already made with Gatsby, I’m sure the future is bright. I’ve had a blast creating my own site with Gatsby (<a href=\"https://github.com/aderaaij/ardennl-gatsby\">checkout the GitHub repo here</a>) and in the end it didn’t take more than a weekend to complete, including doing the <a href=\"/gatsby-bloga-2/tutorial/\">tutorial</a> and experimenting with the <a href=\"/gatsby-bloga-2/docs/gatsby-starters/\">Gatsby starters</a>.</p>\n<p>Some other thoughts I had while working with Gatsby:</p>\n<h3>It’s fast</h3>\n<p>Gatsby definitely delivers on speed. The whole PRPL pattern thing seems to work miracles. I tried browsing the <a href=\"https://github.com/gatsbyjs/gatsby#showcase\">list of sites made with Gatsby</a> with network throttling set to ‘slow 3G’ in Google Chrome and the performance of these sites is still impressive.</p>\n<h3>GraphQL is amazing</h3>\n<p>Data from anywhere with static output. That’s sort of the holy grail isn’t it? Right now the data I use in this site comes from markdown files, but I can already see that switching to another content source is going to be a breeze with GraphQL. The queries are clean and readable and the Graph<em>i</em>QL IDE is the perfect helper. In a way, GraphQL allows you to separate your frontend from the type of data source.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostQuery($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        date(formatString: \"DD MMMM, YYYY\")\n        cover {\n          childImageSharp {\n            fixed(width: 1200) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<h3>Deployment and content management can be so good!</h3>\n<p>After reading some articles on the Gatsby site, I decided to set up my Gatsby hosting on a free plan from <a href=\"https://www.netlify.com/\">Netlify</a> (which is ridiculously generous by the way, what’s the catch?) and that has been a fun experience. Netlify already supports Gatsby out of the box, which means you can configure automatic deploys with <code class=\"language-text\">git</code> in a few clicks. Every time I push to master, the site gets rebuild and uploaded by Netlify. <em>Magic</em>. There’s also the possibility to configure staging servers based on your branches, so you can always test out your changes before merging to master and deploying.</p>\n<p>But wait, there’s more. If you use <a href=\"https://www.contentful.com/\">Contentful</a> as Content Management System and Netlify as your host, you can easily create a Webhook to trigger a rebuild on every content update! I haven’t tried this myself yet, but <a href=\"https://www.halfelectronic.com/post/setting-up-gatsby-js-contentful-and-netlify/\">this posts</a> by Fernando Poumián is a great resource to get you going.</p>\n<p>Incremental builds aren’t yet possible, so every update means a complete rebuild. I’m sure that’s no cause for concern on smaller sites, but with larger sites that are updated often it could be a problem. Luckily, incremental builds will be part of Gatsby <a href=\"https://twitter.com/gatsbyjs/status/937053640652611584\">‘sooner than later’</a>, which will take care of that problem.</p>\n<h3>Gatsby Image plugin is cool</h3>\n<p>Did you see the SVG traced image before the image was loaded? If not, you’re probably on Safari and I still haven’t implemented the <code class=\"language-text\">intersection observer</code> polyfill. But in other browsers, images you add with the <a href=\"https://using-gatsby-image.gatsbyjs.org/\">gatsby image</a> component will include a blur or traced svg placeholder effect by default. It also has <code class=\"language-text\">srcset</code> and <code class=\"language-text\">webp</code>. It can use some work though it adds a few wrappers around your images that are hard to reconfigure without using <code class=\"language-text\">!important</code>. Oh and be warned, it uses <code class=\"language-text\">object-fit</code> by default, which is unsupported by IE11 and older browsers. Of course, you don’t have to use this plugin and every addition / change is discussable on GitHub.</p>\n<h3>Keep an eye on the output</h3>\n<p>I’ll start by admitting that I haven’t validated the HTML of my own site yet, but I’m sure it’ll need some work. I feel like the combination of JSX and using loads of React Components can make the HTML output messy real quick . Combined with the use of Gatsby plugins that also manipulate your output, I’d say it’s extra important to keep an eye out on the generated code. I understand that GatsbyJS is very much about the modern web, but that’s why we’ve got <em>progressive enhancement</em>.</p>\n<h3>When your favorite tool is a hammer…</h3>\n<p>Doing everything in React is a blessing and a curse. You can solve everything with JavaScript but that doesn’t mean you HAVE to solve everything with JavaScript. At times I find myself in such a flow of writing just JavaScript that I tend to use it to solve problems that could have been fixed with a <code class=\"language-text\">hover</code> selector in CSS.</p>\n<h3>CSS in JavaScript, I can dig it.</h3>\n<p>You can use anything to style your Gatsby site; CSS, SCSS, Styled Components, CSS-in-JS, you name it. I wanted to give the whole “Use CSS in your JavaScript” a spin and chose for a library called <a href=\"https://github.com/emotion-js/emotion\">emotion-js</a> based on the fact that I dig the Bowie emoji on its page. After trying it out for a few days I have to admit that I really like it. Creating and styling a component in the same place is such a nice way of working. Even without the cleverness of using React state to toggle CSS values, it’s a great tool. There’s still some work to do considering autocomplete and syntax highlighting, but when working with components like this it makes a lot of sense.</p>\n<h2>In conclusion</h2>\n<p>I like Gatsby and I like the ideas that it promotes. The sites created with Gatsby are blazing fast, as promised. The development environment is one big party and GraphQL makes me rethink my life. I am really looking forward to develop more sites with Gatsby and I’m hoping to find an opportunity to replace a traditional WordPress install with a Gatsby site that pulls in the WP data. When that time comes, I’ll report back of course.</p>\n<p>If you have any questions based on this post, don’t hesitate to contact me on <a href=\"https://twitter.com/ardennl\">Twitter</a> or via <a href=\"mailto:a.de.raaij@gmail.com\">mail</a>. Thanks for reading!</p>","frontmatter":{"title":"Taking Gatsby for a spin","date":"December 06, 2017","description":null}}},"pageContext":{"slug":"/docs/blog/2017-12-07-taking-gatsby-for-a-spin/","previous":{"fields":{"slug":"/docs/blog/2017-11-09-why-i-created-my-blog-with-gatsby-and-contentful/"},"frontmatter":{"title":"Why I created my blog with Gatsby and Contentful"}},"next":{"fields":{"slug":"/docs/blog/2017-12-06-gatsby-plus-contentful-plus-netlify/"},"frontmatter":{"title":"Gatsby + Contentful + Netlify (and Algolia)"}}}}}